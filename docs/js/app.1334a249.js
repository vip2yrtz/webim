(function(e){function t(t){for(var n,i,a=t[0],c=t[1],u=t[2],p=0,m=[];p<a.length;p++)i=a[p],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==s[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0478":function(e,t,r){},"0716":function(e,t,r){"use strict";var n=r("4eff"),s=r.n(n);s.a},"0910":function(e,t,r){},"0bfe":function(e,t,r){},1501:function(e,t,r){},1539:function(e,t,r){"use strict";var n=r("f6e0"),s=r.n(n);s.a},1749:function(e,t,r){"use strict";var n=r("4817"),s=r.n(n);s.a},"19d8":function(e,t,r){"use strict";var n=r("0bfe"),s=r.n(n);s.a},"1c77":function(e,t,r){"use strict";var n=r("1501"),s=r.n(n);s.a},"1ffe":function(e,t,r){"use strict";var n=r("9797"),s=r.n(n);s.a},"208e":function(e,t,r){"use strict";var n=r("a027"),s=r.n(n);s.a},"22f3":function(e,t,r){},2482:function(e,t,r){"use strict";var n=r("fee6"),s=r.n(n);s.a},2991:function(e,t,r){"use strict";var n=r("7a9c"),s=r.n(n);s.a},"320a":function(e,t,r){"use strict";var n=r("7fcd"),s=r.n(n);s.a},"381a":function(e,t,r){"use strict";var n=r("efb1"),s=r.n(n);s.a},"38df":function(e,t,r){e.exports=r.p+"img/gendan.9a26e23a.png"},"3e1f":function(e,t,r){},"3f8a":function(e,t,r){"use strict";var n=r("22f3"),s=r.n(n);s.a},"42c7":function(e,t,r){},4468:function(e,t,r){},4476:function(e,t,r){},"45c7":function(e,t,r){"use strict";var n=r("0478"),s=r.n(n);s.a},4619:function(e,t,r){},"47b1":function(e,t,r){"use strict";var n=r("9908"),s=r.n(n);s.a},4817:function(e,t,r){},"4a92":function(e,t,r){"use strict";var n=r("a3f4"),s=r.n(n);s.a},"4eff":function(e,t,r){},5656:function(e,t,r){"use strict";var n=r("7f43"),s=r.n(n);s.a},"56d7":function(e,t,r){"use strict";r.r(t);r("a7cc"),r("450d");var n=r("df33"),s=r.n(n),o=(r("be4f"),r("896a")),i=r.n(o),a=(r("10cb"),r("f3ad")),c=r.n(a),u=(r("f4f9"),r("c2cc")),l=r.n(u),p=(r("7a0f"),r("0f6c")),m=r.n(p),f=(r("1951"),r("eedf")),d=r.n(f),h=(r("9e1f"),r("6ed5")),g=r.n(h),v=(r("cadf"),r("551c"),r("f751"),r("097d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"avatar",class:"circle"===e.shape?"shape-circle":""},[r("img",{attrs:{src:e.avatarSrc}})])}),b=[],y=r("f6e3"),w=r.n(y),O={props:{src:String,type:{type:String,default:"C2C"},shape:{type:String,default:"circle"}},computed:{avatarSrc:function(){var e=this.src;return/^(https:|http:|\/\/)/.test(e)?e:this.defaultSrc},defaultSrc:function(){switch(this.type){case"C2C":return"https://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-2.png";case"GROUP":return"https://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-3.png";case this.TIM.TYPES.CONV_SYSTEM:return w.a;default:return"https://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-1.png"}}}},C=O,_=(r("b1c5"),r("2877")),P=Object(_["a"])(C,v,b,!1,null,"6e805d08",null),M=P.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isLogin?r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}],staticClass:"loading",attrs:{"element-loading-text":"正在拼命初始化...","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[r("div",{staticClass:"chat-wrapper"},[r("el-row",[r("el-col",{attrs:{xs:10,sm:10,md:8,lg:8,xl:7}},[r("side-bar")],1),r("el-col",{attrs:{xs:14,sm:14,md:16,lg:16,xl:17}},[r("current-conversation")],1)],1)],1),r("image-previewer")],1):r("div",{attrs:{id:"wrapper"}},[r("login"),r("qr-code-list")],1),r("div",{staticClass:"bg"})])},I=[],x=(r("8e6e"),r("ac6a"),r("456d"),r("4917"),r("6762"),r("2fdb"),r("7f7f"),r("46a1"),r("e5f2")),E=r.n(x),D=r("bd86"),k=r("5880"),T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"current-conversation-wrapper"},[e.showCurrentConversation?r("div",{staticClass:"current-conversation",on:{scroll:e.onScroll}},[r("div",{staticClass:"header"},[r("div",{staticClass:"name"},[e._v(e._s(e.name))]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.currentConversation.conversationID.includes("SYSTEM"),expression:"!currentConversation.conversationID.includes('SYSTEM')"}],staticClass:"btn-more-info",class:e.showConversationProfile?"":"left-arrow",attrs:{title:"查看详细信息"},on:{click:e.showMore}})]),r("div",{staticClass:"content"},[r("div",{ref:"message-list",staticClass:"message-list",on:{scroll:this.onScroll}},[e.isCompleted?r("div",{staticClass:"no-more"},[e._v("没有更多了")]):r("div",{staticClass:"more"},[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.$store.dispatch("getMessageList",e.currentConversation.conversationID)}}},[e._v("查看更多")])],1),e._l(e.currentMessageList,(function(e){return r("message-item",{key:e.ID,attrs:{message:e}})}))],2),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowScrollButtomTips,expression:"isShowScrollButtomTips"}],staticClass:"newMessageTips",on:{click:e.scrollMessageListToButtom}},[e._v("回到最新位置")])]),e.showMessageSendBox?r("div",{staticClass:"footer"},[r("message-send-box")],1):e._e()]):e._e(),e.showConversationProfile?r("div",{staticClass:"profile"},[r("conversation-profile")],1):e._e(),r("member-profile-card")],1)},S=[],L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticStyle:{display:"none"}})},A=[],G={},N=Object(_["a"])(G,L,A,!1,null,null,null),R=N.exports,U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"message-wrapper",class:e.messagePosition},[e.currentConversationType===e.TIM.TYPES.CONV_C2C?r("div",{staticClass:"c2c-layout",class:e.messagePosition},[e.showAvatar?r("div",{staticClass:"col-1"},[r("avatar",{attrs:{src:e.avatar}})],1):e._e(),r("div",{staticClass:"col-2"},[e.showMessageHeader?r("message-footer",{attrs:{message:e.message}}):e._e(),r("div",{staticClass:"content-wrapper"},[e.isMine?r("message-status-icon",{attrs:{message:e.message}}):e._e(),e.message.type===e.TIM.TYPES.MSG_TEXT?r("text-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_IMAGE?r("image-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_FILE?r("file-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_SOUND?r("sound-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_GRP_TIP?r("group-tip-element",{attrs:{payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_GRP_SYS_NOTICE?r("group-system-notice-element",{attrs:{payload:e.message.payload,message:e.message}}):e.message.type===e.TIM.TYPES.MSG_CUSTOM?r("custom-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_FACE?r("face-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_VIDEO?r("video-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_GEO?r("geo-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):r("span",[e._v("暂未支持的消息类型："+e._s(e.message.type))])],1)],1),r("div",{staticClass:"col-3"})]):e._e(),e.currentConversationType===e.TIM.TYPES.CONV_GROUP?r("div",{staticClass:"group-layout",class:e.messagePosition},[e.showAvatar?r("div",{staticClass:"col-1"},[r("avatar",{staticClass:"group-member-avatar",attrs:{src:e.avatar},nativeOn:{click:function(t){return e.showGroupMemberProfile(t)}}})],1):e._e(),r("div",{staticClass:"col-2"},[e.showMessageHeader?r("message-header",{attrs:{message:e.message}}):e._e(),r("div",{staticClass:"content-wrapper"},[e.isMine?r("message-status-icon",{attrs:{message:e.message}}):e._e(),e.message.type===e.TIM.TYPES.MSG_TEXT?r("text-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_IMAGE?r("image-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_FILE?r("file-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_SOUND?r("sound-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_GRP_TIP?r("group-tip-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_CUSTOM?r("custom-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_FACE?r("face-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_VIDEO?r("video-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):e.message.type===e.TIM.TYPES.MSG_GEO?r("geo-element",{attrs:{isMine:e.isMine,payload:e.message.payload}}):r("span",[e._v("暂未支持的消息类型："+e._s(e.message.type))])],1)],1),r("div",{staticClass:"col-3"})]):e._e(),e.currentConversationType===e.TIM.TYPES.CONV_SYSTEM?r("div",{staticClass:"system-layout"},[r("div",{staticClass:"col-1"},[r("avatar",{attrs:{src:e.avatar,type:e.currentConversationType}})],1),r("div",{staticClass:"col-2"},[r("message-header",{attrs:{message:e.message}}),r("group-system-notice-element",{attrs:{payload:e.message.payload,message:e.message}})],1)]):e._e()])},B=[],V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.messageIconClass,staticStyle:{width:"16px",height:"16px"},on:{click:e.handleIconClick}},[e._v(e._s("message-send-fail"===e.messageIconClass?"!":""))])},F=[],Y={name:"MessageStatusIcon",props:{message:{type:Object,required:!0}},computed:{messageIconClass:function(){switch(this.message.status){case"unSend":return"el-icon-loading";case"fail":return"message-send-fail";default:return""}}},methods:{handleIconClick:function(){var e=this;"message-send-fail"===this.messageIconClass&&this.tim.resendMessage(this.message).catch((function(t){e.$store.commit("showMessage",{message:t.message,type:"error"})}))}}},q=Y,z=(r("4a92"),Object(_["a"])(q,V,F,!1,null,"3666ed00",null)),H=z.exports,K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base",class:[e.isMine?"right":"left"]},[r("div",{staticClass:"name text-ellipsis"},[e._v(e._s(e.from))]),r("div",{staticClass:"date"},[e._v(e._s(e.date))])])},J=[];function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",r=e.getFullYear(),n=e.getMonth()+1,s=e.getDate();return"".concat(r).concat(t).concat(ee(n)).concat(t).concat(ee(s))}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.getHours(),n=e.getMinutes(),s=e.getSeconds();return t?"".concat(ee(r),":").concat(ee(n),":").concat(ee(s)):"".concat(r,":").concat(ee(n))}function W(e){return"".concat(Q(e)," ").concat(Z(e))}function X(e){return e.toDateString()===(new Date).toDateString()}function ee(e){return e<10?"0".concat(e):e}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne={name:"MessageHeader",props:{message:{type:Object,required:!0}},computed:re({},Object(k["mapState"])({currentConversation:function(e){return e.conversation.currentConversation},currentUserProfile:function(e){return e.user.currentUserProfile},currentMemberList:function(e){return e.group.currentMemberList}}),{date:function(){return W(new Date(1e3*this.message.time))},from:function(){var e=this.currentConversation.type===this.TIM.TYPES.CONV_C2C;return this.isMine?this.currentUserProfile.nick||this.currentUserProfile.userID:e?this.currentConversation.userProfile.nick||this.currentConversation.userProfile.userID:this.currentConversation.type===this.TIM.TYPES.CONV_SYSTEM?this.message.type===this.TIM.TYPES.MSG_GRP_SYS_NOTICE?"群系统通知":"系统通知":this.message.nick||this.message.from},isMine:function(){return"out"===this.message.flow}})},se=ne,oe=(r("5f1e"),Object(_["a"])(se,K,J,!1,null,"17cf7186",null)),ie=oe.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base",class:[e.isMine?"right":"left"]},[r("div",{staticClass:"date"},[e._v(e._s(e.date))])])},ce=[];function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe={name:"MessageFooter",props:{message:{type:Object,required:!0}},computed:le({},Object(k["mapState"])({currentConversation:function(e){return e.conversation.currentConversation},currentUserProfile:function(e){return e.user.currentUserProfile},currentMemberList:function(e){return e.group.currentMemberList}}),{date:function(){return W(new Date(1e3*this.message.time))},from:function(){var e=this.currentConversation.type===this.TIM.TYPES.CONV_C2C;return this.isMine?this.currentUserProfile.nick||this.currentUserProfile.userID:e?this.currentConversation.userProfile.nick||this.currentConversation.userProfile.userID:this.message.nick||this.message.from},isMine:function(){return"out"===this.message.flow}})},me=pe,fe=(r("d57c"),Object(_["a"])(me,ae,ce,!1,null,"9eac4e8a",null)),de=fe.exports,he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("message-bubble",{attrs:{isMine:e.isMine}},[r("div",{staticClass:"file-element-wrapper",attrs:{title:"单击下载"},on:{click:e.downloadFile}},[r("div",{staticClass:"header"},[r("i",{staticClass:"el-icon-document file-icon"}),r("div",{staticClass:"file-element"},[r("span",{staticClass:"file-name"},[e._v(e._s(e.fileName))]),r("span",{staticClass:"file-size"},[e._v(e._s(e.size))])])]),e.showProgressBar?r("el-progress",{attrs:{percentage:e.percentage,color:function(e){return 100===e?"#67c23a":"#409eff"}}}):e._e()],1)])},ge=[],ve=(r("6b30"),r("c284")),be=r.n(ve),ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chat-bubble"},[r("div",{staticClass:"message-content",class:e.bubbleStyle},[e._t("default")],2)])},we=[],Oe={name:"MessageBubble",props:{isMine:{type:Boolean},isNew:{type:Boolean}},computed:{bubbleStyle:function(){var e="";return this.isMine?e+="message-send":e+="message-received",this.isNew&&(e+="new"),e}}},Ce=Oe,_e=(r("ab0f"),Object(_["a"])(Ce,ye,we,!1,null,"a421e6a0",null)),Pe=_e.exports,Me={name:"FileElement",props:{payload:{type:Object,required:!0},isMine:{type:Boolean}},components:{MessageBubble:Pe,ElProgress:be.a},computed:{fileName:function(){return this.payload.fileName},fileUrl:function(){return this.payload.fileUrl},size:function(){var e=this.payload.fileSize;return e>1024?e/1024>1024?"".concat(this.toFixed(e/1024/1024)," Mb"):"".concat(this.toFixed(e/1024)," Kb"):"".concat(this.toFixed(e),"B")},showProgressBar:function(){return"unSend"===this.$parent.message.status},percentage:function(){return Math.floor(100*(this.$parent.message.progress||0))}},methods:{toFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toFixed(t)},downloadFile:function(){var e=this;if(window.fetch)fetch(this.fileUrl).then((function(e){return e.blob()})).then((function(t){var r=document.createElement("a"),n=window.URL.createObjectURL(t);r.href=n,r.download=e.fileName,r.click()}));else{var t=document.createElement("a");t.href=this.fileUrl,t.target="_blank",t.download=this.filename,t.click()}}}},je=Me,Ie=(r("1539"),Object(_["a"])(je,he,ge,!1,null,"01a151c0",null)),xe=Ie.exports,Ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("message-bubble",{attrs:{isMine:e.isMine}},[r("div",{staticClass:"face-element-wrapper"},[r("img",{attrs:{src:e.url}})])])},De=[],ke={name:"FaceElement",props:{payload:{type:Object,required:!0},isMine:{type:Boolean}},components:{MessageBubble:Pe},computed:{url:function(){var e="";return e=this.payload.data.indexOf("@2x")>0?this.payload.data:this.payload.data+"@2x","https://imgcache.qq.com/open/qcloud/tim/assets/face-elem/".concat(e,".png")}}},Te=ke,Se=(r("5656"),Object(_["a"])(Te,Ee,De,!1,null,"a0a8c69e",null)),Le=Se.exports,Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("message-bubble",{attrs:{isMine:e.isMine}},[r("img",{staticClass:"image-element",attrs:{src:e.imageUrl},on:{load:e.onImageLoaded,click:e.handlePreview}}),e.showProgressBar?r("el-progress",{attrs:{percentage:e.percentage,color:function(e){return 100===e?"#67c23a":"#409eff"}}}):e._e()],1)},Ge=[];function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $e={name:"ImageElemnt",props:{payload:{type:Object,required:!0},isMine:{type:Boolean}},components:{MessageBubble:Pe,ElProgress:be.a},computed:Re({},Object(k["mapGetters"])(["imgUrlList"]),{imageUrl:function(){var e=this.payload.imageInfoArray[0].url;return"string"!==typeof e?"":"//"===e.slice(0,2)?"https:".concat(e):e},showProgressBar:function(){return"unSend"===this.$parent.message.status},percentage:function(){return Math.floor(100*(this.$parent.message.progress||0))}}),methods:{onImageLoaded:function(e){this.$bus.$emit("image-loaded",e)},handlePreview:function(){this.$bus.$emit("image-preview",{url:this.payload.imageInfoArray[0].url})}}},Ue=$e,Be=(r("45c7"),Object(_["a"])(Ue,Ae,Ge,!1,null,"219b0a21",null)),Ve=Be.exports,Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("message-bubble",{attrs:{isMine:e.isMine}},[e._l(e.contentList,(function(t,n){return["text"===t.name?r("span",{key:n},[e._v(e._s(t.text))]):"img"===t.name?r("img",{key:n,attrs:{src:t.src,width:"20px",height:"20px"}}):e._e()]}))],2)},Ye=[],qe="https://imgcache.qq.com/open/qcloud/tim/assets/emoji/",ze={"[NO]":"emoji_0@2x.png","[OK]":"emoji_1@2x.png","[下雨]":"emoji_2@2x.png","[么么哒]":"emoji_3@2x.png","[乒乓]":"emoji_4@2x.png","[便便]":"emoji_5@2x.png","[信封]":"emoji_6@2x.png","[偷笑]":"emoji_7@2x.png","[傲慢]":"emoji_8@2x.png","[再见]":"emoji_9@2x.png","[冷汗]":"emoji_10@2x.png","[凋谢]":"emoji_11@2x.png","[刀]":"emoji_12@2x.png","[删除]":"emoji_13@2x.png","[勾引]":"emoji_14@2x.png","[发呆]":"emoji_15@2x.png","[发抖]":"emoji_16@2x.png","[可怜]":"emoji_17@2x.png","[可爱]":"emoji_18@2x.png","[右哼哼]":"emoji_19@2x.png","[右太极]":"emoji_20@2x.png","[右车头]":"emoji_21@2x.png","[吐]":"emoji_22@2x.png","[吓]":"emoji_23@2x.png","[咒骂]":"emoji_24@2x.png","[咖啡]":"emoji_25@2x.png","[啤酒]":"emoji_26@2x.png","[嘘]":"emoji_27@2x.png","[回头]":"emoji_28@2x.png","[困]":"emoji_29@2x.png","[坏笑]":"emoji_30@2x.png","[多云]":"emoji_31@2x.png","[大兵]":"emoji_32@2x.png","[大哭]":"emoji_33@2x.png","[太阳]":"emoji_34@2x.png","[奋斗]":"emoji_35@2x.png","[奶瓶]":"emoji_36@2x.png","[委屈]":"emoji_37@2x.png","[害羞]":"emoji_38@2x.png","[尴尬]":"emoji_39@2x.png","[左哼哼]":"emoji_40@2x.png","[左太极]":"emoji_41@2x.png","[左车头]":"emoji_42@2x.png","[差劲]":"emoji_43@2x.png","[弱]":"emoji_44@2x.png","[强]":"emoji_45@2x.png","[彩带]":"emoji_46@2x.png","[彩球]":"emoji_47@2x.png","[得意]":"emoji_48@2x.png","[微笑]":"emoji_49@2x.png","[心碎了]":"emoji_50@2x.png","[快哭了]":"emoji_51@2x.png","[怄火]":"emoji_52@2x.png","[怒]":"emoji_53@2x.png","[惊恐]":"emoji_54@2x.png","[惊讶]":"emoji_55@2x.png","[憨笑]":"emoji_56@2x.png","[手枪]":"emoji_57@2x.png","[打哈欠]":"emoji_58@2x.png","[抓狂]":"emoji_59@2x.png","[折磨]":"emoji_60@2x.png","[抠鼻]":"emoji_61@2x.png","[抱抱]":"emoji_62@2x.png","[抱拳]":"emoji_63@2x.png","[拳头]":"emoji_64@2x.png","[挥手]":"emoji_65@2x.png","[握手]":"emoji_66@2x.png","[撇嘴]":"emoji_67@2x.png","[擦汗]":"emoji_68@2x.png","[敲打]":"emoji_69@2x.png","[晕]":"emoji_70@2x.png","[月亮]":"emoji_71@2x.png","[棒棒糖]":"emoji_72@2x.png","[汽车]":"emoji_73@2x.png","[沙发]":"emoji_74@2x.png","[流汗]":"emoji_75@2x.png","[流泪]":"emoji_76@2x.png","[激动]":"emoji_77@2x.png","[灯泡]":"emoji_78@2x.png","[炸弹]":"emoji_79@2x.png","[熊猫]":"emoji_80@2x.png","[爆筋]":"emoji_81@2x.png","[爱你]":"emoji_82@2x.png","[爱心]":"emoji_83@2x.png","[爱情]":"emoji_84@2x.png","[猪头]":"emoji_85@2x.png","[猫咪]":"emoji_86@2x.png","[献吻]":"emoji_87@2x.png","[玫瑰]":"emoji_88@2x.png","[瓢虫]":"emoji_89@2x.png","[疑问]":"emoji_90@2x.png","[白眼]":"emoji_91@2x.png","[皮球]":"emoji_92@2x.png","[睡觉]":"emoji_93@2x.png","[磕头]":"emoji_94@2x.png","[示爱]":"emoji_95@2x.png","[礼品袋]":"emoji_96@2x.png","[礼物]":"emoji_97@2x.png","[篮球]":"emoji_98@2x.png","[米饭]":"emoji_99@2x.png","[糗大了]":"emoji_100@2x.png","[红双喜]":"emoji_101@2x.png","[红灯笼]":"emoji_102@2x.png","[纸巾]":"emoji_103@2x.png","[胜利]":"emoji_104@2x.png","[色]":"emoji_105@2x.png","[药]":"emoji_106@2x.png","[菜刀]":"emoji_107@2x.png","[蛋糕]":"emoji_108@2x.png","[蜡烛]":"emoji_109@2x.png","[街舞]":"emoji_110@2x.png","[衰]":"emoji_111@2x.png","[西瓜]":"emoji_112@2x.png","[调皮]":"emoji_113@2x.png","[象棋]":"emoji_114@2x.png","[跳绳]":"emoji_115@2x.png","[跳跳]":"emoji_116@2x.png","[车厢]":"emoji_117@2x.png","[转圈]":"emoji_118@2x.png","[鄙视]":"emoji_119@2x.png","[酷]":"emoji_120@2x.png","[钞票]":"emoji_121@2x.png","[钻戒]":"emoji_122@2x.png","[闪电]":"emoji_123@2x.png","[闭嘴]":"emoji_124@2x.png","[闹钟]":"emoji_125@2x.png","[阴险]":"emoji_126@2x.png","[难过]":"emoji_127@2x.png","[雨伞]":"emoji_128@2x.png","[青蛙]":"emoji_129@2x.png","[面条]":"emoji_130@2x.png","[鞭炮]":"emoji_131@2x.png","[风车]":"emoji_132@2x.png","[飞吻]":"emoji_133@2x.png","[飞机]":"emoji_134@2x.png","[饥饿]":"emoji_135@2x.png","[香蕉]":"emoji_136@2x.png","[骷髅]":"emoji_137@2x.png","[麦克风]":"emoji_138@2x.png","[麻将]":"emoji_139@2x.png","[鼓掌]":"emoji_140@2x.png","[龇牙]":"emoji_141@2x.png"};function He(e){var t=[],r=e.text,n=-1,s=-1;while(""!==r)switch(n=r.indexOf("["),s=r.indexOf("]"),n){case 0:if(-1===s)t.push({name:"text",text:r}),r="";else{var o=r.slice(0,s+1);ze[o]?(t.push({name:"img",src:qe+ze[o]}),r=r.substring(s+1)):(t.push({name:"text",text:"["}),r=r.slice(1))}break;case-1:t.push({name:"text",text:r}),r="";break;default:t.push({name:"text",text:r.slice(0,n)}),r=r.substring(n);break}return t}var Ke={name:"TextElement",components:{MessageBubble:Pe},props:{payload:{type:Object,required:!0},isMine:{type:Boolean}},computed:{contentList:function(){return He(this.payload)}}},Je=Ke,Qe=(r("6ef5"),Object(_["a"])(Je,Fe,Ye,!1,null,"563f5c67",null)),Ze=Qe.exports,We=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("message-bubble",{attrs:{isMine:e.isMine}},[r("div",{staticClass:"sound-element-wrapper",attrs:{title:"单击播放"},on:{click:e.play}},[r("i",{staticClass:"iconfont icon-voice"}),e._v("\r\n    "+e._s(e.second+'"')+"\r\n  ")])])},Xe=[],et={name:"SoundElement",props:{payload:{type:Object,required:!0},isMine:{type:Boolean}},components:{MessageBubble:Pe},data:function(){return{amr:null}},computed:{url:function(){return this.payload.url},size:function(){return this.payload.size},second:function(){return this.payload.second}},methods:{play:function(){var e=document.createElement("audio");e.addEventListener("error",this.tryPlayAMR),e.src=this.url;var t=e.play();t&&t.catch((function(){}))},tryPlayAMR:function(){try{var e=/MSIE|Trident|Edge/.test(window.navigator.userAgent);if(e)return void this.$store.commit("showMessage",{message:"您的浏览器不支持该格式的语音消息播放，请尝试更换浏览器，建议使用：谷歌浏览器",type:"warning"});if(!window.BenzAMRRecorder){var t=document.createElement("script");t.addEventListener("load",this.playAMR),t.src="./BenzAMRRecorder.js";var r=document.getElementsByTagName("script")[0];return void r.parentNode.insertBefore(t,r)}this.playAMR()}catch(n){this.$store.commit("showMessage",{message:"您的浏览器不支持该格式的语音消息播放，请尝试更换浏览器，建议使用：谷歌浏览器",type:"warning"})}},playAMR:function(){var e=this;!this.amr&&window.BenzAMRRecorder&&(this.amr=new window.BenzAMRRecorder),this.amr.isInit()?this.amr.play():this.amr.initWithUrl(this.url).then((function(){e.amr.play()}))}}},tt=et,rt=(r("381a"),Object(_["a"])(tt,We,Xe,!1,null,"11efc68f",null)),nt=rt.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("message-bubble",{attrs:{isMine:e.isMine}},[r("video",{staticClass:"video",attrs:{src:e.payload.videoUrl,poster:e.payload.thumbUrl,controls:""},on:{error:e.videoError}})])},ot=[],it={name:"VideoElement",components:{MessageBubble:Pe},props:{payload:{type:Object,required:!0},isMine:{type:Boolean}},methods:{videoError:function(e){this.$message.error("视频出错，错误原因："+e.target.error.message)}}},at=it,ct=(r("9c6a"),Object(_["a"])(at,st,ot,!1,null,"64410dd4",null)),ut=ct.exports,lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"group-tip-element-wrapper"},[e._v(e._s(e.text))])},pt=[],mt={name:"GroupTipElement",props:{payload:{type:Object,required:!0}},computed:{text:function(){return this.getGroupTipContent(this.payload)}},methods:{getGroupTipContent:function(e){switch(e.operationType){case this.TIM.TYPES.GRP_TIP_MBR_JOIN:return"群成员：".concat(e.userIDList.join(","),"，加入群组");case this.TIM.TYPES.GRP_TIP_MBR_QUIT:return"群成员：".concat(e.userIDList.join(","),"，退出群组");case this.TIM.TYPES.GRP_TIP_MBR_KICKED_OUT:return"群成员：".concat(e.userIDList.join(","),"，被").concat(e.operatorID,"踢出群组");case this.TIM.TYPES.GRP_TIP_MBR_SET_ADMIN:return"群成员：".concat(e.userIDList.join(","),"，成为管理员");case this.TIM.TYPES.GRP_TIP_MBR_CANCELED_ADMIN:return"群成员：".concat(e.userIDList.join(","),"，被撤销管理员");default:return"[群提示消息]"}}}},ft=mt,dt=(r("ca9c"),Object(_["a"])(ft,lt,pt,!1,null,"bfe5eaf2",null)),ht=dt.exports,gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("message-bubble",{attrs:{isMine:!1}},[r("div",{staticClass:"group-system-element-wrapper"},[e._v("\n    "+e._s(e.text)+"\n    "),e.isJoinGroupRequest?r("el-button",{attrs:{type:"text"},on:{click:function(t){e.showDialog=!0}}},[e._v("处理")]):e._e(),r("el-dialog",{attrs:{title:"处理加群申请",visible:e.showDialog,width:"30%"},on:{"update:visible":function(t){e.showDialog=t}}},[r("el-form",{ref:"form",attrs:{"label-width":"100px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[r("el-form-item",{attrs:{label:"处理结果："}},[r("el-radio-group",{model:{value:e.form.handleAction,callback:function(t){e.$set(e.form,"handleAction",t)},expression:"form.handleAction"}},[r("el-radio",{attrs:{label:"Agree"}},[e._v("同意")]),r("el-radio",{attrs:{label:"Reject"}},[e._v("拒绝")])],1)],1),r("el-form-item",{attrs:{label:"附言："}},[r("el-input",{attrs:{type:"textarea",resize:"none",rows:3,placeholder:"请输入附言"},model:{value:e.form.handleMessage,callback:function(t){e.$set(e.form,"handleMessage",t)},expression:"form.handleMessage"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showDialog=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleGroupApplication}},[e._v("确 定")])],1)],1)],1)])},vt=[],bt=(r("b5d8"),r("f494")),yt=r.n(bt),wt=(r("fe07"),r("6ac5")),Ot=r.n(wt),Ct=(r("eca7"),r("3787")),_t=r.n(Ct),Pt=(r("425f"),r("4105")),Mt=r.n(Pt);function jt(e){var t=e.payload.groupProfile.groupName||e.payload.groupProfile.groupID;switch(e.payload.operationType){case 1:return"".concat(e.payload.operatorID," 申请加入群组：").concat(t);case 2:return"成功加入群组：".concat(t);case 3:return"申请加入群组：".concat(t,"被拒绝");case 4:return"被管理员".concat(e.payload.operatorID,"踢出群组：").concat(t);case 5:return"群：".concat(t," 已被").concat(e.payload.operatorID,"解散");case 6:return"".concat(e.payload.operatorID,"创建群：").concat(t);case 7:return"".concat(e.payload.operatorID,"邀请你加群：").concat(t);case 8:return"你退出群组：".concat(t);case 9:return"你被".concat(e.payload.operatorID,"设置为群：").concat(t,"的管理员");case 10:return"你被".concat(e.payload.operatorID,"撤销群：").concat(t,"的管理员身份");case 255:return"自定义群系统通知: "+e.payload.userDefinedField}}var It={name:"GroupSystemNoticeElement",props:{payload:{type:Object,required:!0},message:{type:Object,required:!1}},components:{ElDialog:s.a,ElForm:Mt.a,ElFormItem:_t.a,ElRadioGroup:Ot.a,ElRadio:yt.a,MessageBubble:Pe},data:function(){return{showDialog:!1,form:{handleAction:"Agree",handleMessage:""}}},computed:{text:function(){return jt(this.message)},title:function(){return this.message.type===this.TIM.TYPES.MSG_GRP_SYS_NOTICE?"群系统通知":"系统通知"},isJoinGroupRequest:function(){return 1===this.payload.operationType}},methods:{handleGroupApplication:function(){var e=this;this.tim.handleGroupApplication({handleAction:this.form.handleAction,handleMessage:this.form.handleMessage,message:this.message}).then((function(){e.showDialog=!1})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message}),e.showDialog=!1}))}}},xt=It,Et=(r("56e0"),Object(_["a"])(xt,gt,vt,!1,null,"279895fa",null)),Dt=Et.exports,kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("message-bubble",{attrs:{isMine:e.isMine}},[r("div",{staticClass:"custom-element-wrapper"},["survey"===this.payload.data?r("div",{staticClass:"survey"},[r("div",{staticClass:"title"},[e._v("对IM DEMO的评分和建议")]),r("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.rate,callback:function(t){e.rate=t},expression:"rate"}}),r("div",{staticClass:"suggestion"},[e._v(e._s(this.payload.extension))])],1):r("span",{staticClass:"text",attrs:{title:"您可以自行解析自定义消息"}},[e._v(e._s(e.text))])])])},Tt=[],St=(r("78a7"),r("33ca")),Lt=r.n(St),At={name:"CustomElement",props:{payload:{type:Object,required:!0},isMine:{type:Boolean}},components:{MessageBubble:Pe,ElRate:Lt.a},computed:{text:function(){return this.translateCustomMessage(this.payload)},rate:function(){return parseInt(this.payload.description)}},methods:{translateCustomMessage:function(e){return"group_create"===e.data?"".concat(e.extension):"[自定义消息]"}}},Gt=At,Nt=(r("f057"),Object(_["a"])(Gt,kt,Tt,!1,null,"1f827c08",null)),Rt=Nt.exports,$t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("message-bubble",{attrs:{isMine:e.isMine}},[r("a",{staticClass:"geo-element",attrs:{href:e.href,target:"_blank",title:"点击查看详情"}},[r("span",{staticClass:"el-icon-location-outline"},[e._v(e._s(e.payload.description))]),r("img",{attrs:{src:e.url}})])])},Ut=[],Bt={name:"GeoElement",components:{MessageBubble:Pe},props:{payload:{type:Object,required:!0},isMine:{type:Boolean}},data:function(){return{url:""}},computed:{lon:function(){return this.payload.longitude.toFixed(6)},lat:function(){return this.payload.latitude.toFixed(6)},href:function(){return"https://map.qq.com/?type=marker&isopeninfowin=1&markertype=1&pointx=".concat(this.lon,"&pointy=").concat(this.lat,"&name=").concat(this.payload.description)}},mounted:function(){this.url="https://apis.map.qq.com/ws/staticmap/v2/?center=".concat(this.lat,",").concat(this.lon,"&zoom=10&size=300*150&maptype=roadmap&markers=size:large|color:0xFFCCFF|label:k|").concat(this.lat,",").concat(this.lon,"&key=UBNBZ-PTP3P-TE7DB-LHRTI-Y4YLE-VWBBD")}},Vt=Bt,Ft=(r("19d8"),Object(_["a"])(Vt,$t,Ut,!1,null,"e4b7e884",null)),Yt=Ft.exports;function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ht={name:"MessageItem",props:{message:{type:Object,required:!0}},components:{MessageHeader:ie,MessageFooter:de,MessageStatusIcon:H,FileElement:xe,FaceElement:Le,ImageElement:Ve,TextElement:Ze,SoundElement:nt,GroupTipElement:ht,GroupSystemNoticeElement:Dt,CustomElement:Rt,VideoElement:ut,GeoElement:Yt},data:function(){return{renderDom:[]}},computed:zt({},Object(k["mapState"])({currentConversation:function(e){return e.conversation.currentConversation},currentUserProfile:function(e){return e.user.currentUserProfile}}),{showAvatar:function(){return"C2C"===this.currentConversation.type||"GROUP"===this.currentConversation.type&&this.message.type!==this.TIM.TYPES.MSG_GRP_TIP},avatar:function(){return"C2C"===this.currentConversation.type?this.isMine?this.currentUserProfile.avatar:this.currentConversation.userProfile.avatar:"GROUP"===this.currentConversation.type?this.isMine?this.currentUserProfile.avatar:this.message.avatar:""},currentConversationType:function(){return this.currentConversation.type},isMine:function(){return"out"===this.message.flow},messagePosition:function(){return["TIMGroupTipElem","TIMGroupSystemNoticeElem"].includes(this.message.type)?"position-center":this.isMine?"position-right":"position-left"},showMessageHeader:function(){return!["TIMGroupTipElem","TIMGroupSystemNoticeElem"].includes(this.message.type)}}),methods:{showGroupMemberProfile:function(e){var t=this;this.tim.getGroupMemberProfile({groupID:this.message.to,userIDList:[this.message.from]}).then((function(r){var n=r.data.memberList;n[0]&&t.$bus.$emit("showMemberProfile",{event:e,member:n[0]})}))}}},Kt=Ht,Jt=(r("1749"),Object(_["a"])(Kt,U,B,!1,null,"6a3f0c54",null)),Qt=Jt.exports,Zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"conversation-profile-wrapper"},[e.currentConversation.type===e.TIM.TYPES.CONV_C2C?r("user-profile",{attrs:{userProfile:e.currentConversation.userProfile}}):e.currentConversation.type===e.TIM.TYPES.CONV_GROUP?r("group-profile",{attrs:{groupProfile:e.currentConversation.groupProfile}}):e._e()],1)},Wt=[],Xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("group-member-list",{attrs:{groupProfile:e.groupProfile}}),r("div",{staticClass:"group-info-content"},[r("div",{staticClass:"info-item"},[r("div",{staticClass:"label"},[e._v("群ID")]),r("div",{staticClass:"content"},[e._v(e._s(e.groupProfile.groupID))])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"label"},[e._v("\n        群头像\n        "),e.editable?r("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer","font-size":"16px"},on:{click:function(t){e.showEditFaceUrl=!0,e.inputFocus("editFaceUrl")}}}):e._e()]),e.showEditFaceUrl?r("el-input",{ref:"editFaceUrl",attrs:{autofocus:"",size:"mini"},on:{blur:function(t){e.showEditFaceUrl=!1}},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editFaceUrl(t)}},model:{value:e.avatar,callback:function(t){e.avatar=t},expression:"avatar"}}):r("div",{staticClass:"content"},[r("avatar",{attrs:{src:e.groupProfile.avatar}})],1)],1),r("div",{staticClass:"info-item"},[r("div",{staticClass:"label"},[e._v("群类型")]),r("div",{staticClass:"content"},[e._v(e._s(e.groupProfile.type))])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"label"},[e._v("\n        群名称\n        "),e.editable?r("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer","font-size":"16px"},on:{click:function(t){e.showEditName=!0,e.inputFocus("editName")}}}):e._e()]),e.showEditName?r("el-input",{ref:"editName",attrs:{autofocus:"",size:"mini"},on:{blur:function(t){e.showEditName=!1}},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editName(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}):r("div",{staticClass:"content text-ellipsis",attrs:{title:e.groupProfile.name}},[e._v("\n        "+e._s(e.groupProfile.name||"暂无")+"\n      ")])],1),r("div",{staticClass:"info-item"},[r("div",{staticClass:"label"},[e._v("\n        群介绍\n        "),e.editable?r("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer","font-size":"16px"},on:{click:function(t){e.showEditIntroduction=!0,e.inputFocus("editIntroduction")}}}):e._e()]),e.showEditIntroduction?r("el-input",{ref:"editIntroduction",attrs:{autofocus:"",size:"mini"},on:{blur:function(t){e.showEditIntroduction=!1}},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editIntroduction(t)}},model:{value:e.introduction,callback:function(t){e.introduction=t},expression:"introduction"}}):r("div",{staticClass:"long-content",attrs:{title:e.groupProfile.introduction}},[e._v("\n        "+e._s(e.groupProfile.introduction||"暂无")+"\n      ")])],1),r("div",{staticClass:"info-item"},[r("div",{staticClass:"label"},[e._v("\n        群公告\n        "),e.editable?r("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer","font-size":"16px"},on:{click:function(t){e.showEditNotification=!0,e.inputFocus("editNotification")}}}):e._e()]),e.showEditNotification?r("el-input",{ref:"editNotification",attrs:{autofocus:"",size:"mini"},on:{blur:function(t){e.showEditNotification=!1}},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editNotification(t)}},model:{value:e.notification,callback:function(t){e.notification=t},expression:"notification"}}):r("div",{staticClass:"long-content",attrs:{title:e.groupProfile.notification}},[e._v("\n        "+e._s(e.groupProfile.notification||"暂无")+"\n      ")])],1),"Private"!==e.groupProfile.type?r("div",{staticClass:"info-item"},[r("div",{staticClass:"label"},[e._v("\n        申请加群方式\n        "),e.editable?r("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer","font-size":"16px"},on:{click:function(t){e.showEditJoinOption=!0,e.inputFocus("editJoinOption")}}}):e._e()]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showEditJoinOption,expression:"!showEditJoinOption"}],staticClass:"content"},[e._v("\n        "+e._s(e.joinOptionMap[e.groupProfile.joinOption])+"\n      ")]),r("el-select",{directives:[{name:"show",rawName:"v-show",value:e.showEditJoinOption,expression:"showEditJoinOption"}],ref:"editJoinOption",attrs:{size:"mini","automatic-dropdown":""},on:{blur:function(t){e.showEditJoinOption=!1},change:e.editJoinOption},model:{value:e.joinOption,callback:function(t){e.joinOption=t},expression:"joinOption"}},[r("el-option",{attrs:{label:"自由加入",value:"FreeAccess"}}),r("el-option",{attrs:{label:"需要验证",value:"NeedPermission"}}),r("el-option",{attrs:{label:"禁止加群",value:"DisableApply"}})],1)],1):e._e(),r("div",{staticClass:"info-item"},[r("div",{staticClass:"label"},[e._v("\n        群消息提示类型\n        "),e.editable?r("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer","font-size":"16px"},on:{click:function(t){e.showEditMessageRemindType=!0,e.inputFocus("editMessageRemindType")}}}):e._e()]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showEditMessageRemindType,expression:"!showEditMessageRemindType"}],staticClass:"content"},[e._v("\n        "+e._s(e.messageRemindTypeMap[this.groupProfile.selfInfo.messageRemindType])+"\n      ")]),r("el-select",{directives:[{name:"show",rawName:"v-show",value:e.showEditMessageRemindType,expression:"showEditMessageRemindType"}],ref:"editMessageRemindType",attrs:{size:"mini","automatic-dropdown":""},on:{change:e.editMessageRemindType,blur:function(t){e.showEditMessageRemindType=!1}},model:{value:e.messageRemindType,callback:function(t){e.messageRemindType=t},expression:"messageRemindType"}},[r("el-option",{attrs:{label:"接收消息并提示",value:"AcceptAndNotify"}}),r("el-option",{attrs:{label:"接收消息但不提示",value:"AcceptNotNotify"}}),r("el-option",{attrs:{label:"屏蔽消息",value:"Discard"}})],1)],1),r("div",{staticClass:"info-item"},[r("div",{staticClass:"label"},[e._v("\n        我的群名片\n        "),r("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer","font-size":"16px"},on:{click:function(t){e.showEditNameCard=!0,e.inputFocus("editNameCard")}}})]),e.showEditNameCard?r("el-input",{ref:"editNameCard",attrs:{autofocus:"",size:"mini"},on:{blur:function(t){e.showEditNameCard=!1}},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editNameCard(t)}},model:{value:e.nameCard,callback:function(t){e.nameCard=t},expression:"nameCard"}}):r("div",{staticClass:"content cursor-pointer"},[e._v("\n        "+e._s(e.groupProfile.selfInfo.nameCard||"暂无")+"\n      ")])],1),e.isOwner?r("div",[r("el-button",{attrs:{type:"text"},on:{click:function(t){e.showChangeGroupOwner=!0}}},[e._v("转让群组")]),e.showChangeGroupOwner?r("el-input",{attrs:{placeholder:"新群主的userID",size:"mini"},on:{blur:function(t){e.showChangeGroupOwner=!1}},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeOwner(t)}},model:{value:e.newOwnerUserID,callback:function(t){e.newOwnerUserID=t},expression:"newOwnerUserID"}}):e._e()],1):e._e(),r("div",[r("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:e.quitGroup}},[e._v("退出群组")])],1),e.showDissmissGroup?r("div",[r("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:e.dismissGroup}},[e._v("解散群组")])],1):e._e()])],1)},er=[],tr=(r("6611"),r("e772")),rr=r.n(tr),nr=(r("1f1a"),r("4e4b")),sr=r.n(nr),or=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"group-member-list-wrapper"},[r("div",{staticClass:"header"},[r("span",{staticClass:"member-count text-ellipsis"},[e._v("群成员："+e._s(e.currentConversation.groupProfile.memberNum))]),r("popover",{model:{value:e.addGroupMemberVisible,callback:function(t){e.addGroupMemberVisible=t},expression:"addGroupMemberVisible"}},[r("add-group-member"),r("div",{staticClass:"btn-add-member",attrs:{slot:"reference",title:"添加群成员"},slot:"reference"},[r("span",{staticClass:"tim-icon-friend-add"})])],1)],1),r("div",{staticClass:"scroll-content"},[r("div",{staticClass:"group-member-list"},[e._l(e.members,(function(t){return[r("popover",{key:t.userID,attrs:{placement:"right"}},[r("group-member-info",{attrs:{member:t}}),r("div",{staticClass:"group-member",attrs:{slot:"reference"},on:{click:function(r){e.currentMemberID=t.userID}},slot:"reference"},[r("avatar",{attrs:{title:e.getGroupMemberAvatarText(t.role),src:t.avatar}}),r("div",{staticClass:"member-name text-ellipsis"},[t.nameCard?r("span",{attrs:{title:t.nameCard}},[e._v(e._s(t.nameCard))]):t.nick?r("span",{attrs:{title:t.nick}},[e._v(e._s(t.nick))]):r("span",{attrs:{title:t.userID}},[e._v(e._s(t.userID))])])],1)],1)]}))],2)]),r("div",{staticClass:"more"},[e.showLoadMore?r("el-button",{attrs:{type:"text"},on:{click:e.loadMore}},[e._v("查看更多")]):e._e()],1)])},ir=[],ar=(r("06f1"),r("6ac9")),cr=r.n(ar),ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-input",{attrs:{placeholder:"输入userID后 按回车键"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addGroupMember(t)}},model:{value:e.userID,callback:function(t){e.userID=t},expression:"userID"}})],1)},lr=[];r("a481");function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fr={components:{ElInput:c.a},data:function(){return{userID:""}},computed:mr({},Object(k["mapState"])({currentConversation:function(e){return e.conversation.currentConversation}})),methods:{addGroupMember:function(){var e=this,t=this.currentConversation.conversationID.replace("GROUP","");this.tim.addGroupMember({groupID:t,userIDList:[this.userID]}).then((function(r){var n=r.data,s=n.successUserIDList,o=n.failureUserIDList,i=n.existedUserIDList;s.length>0&&(e.$store.commit("showMessage",{message:"群成员：".concat(s.join(","),"，加群成功"),type:"success"}),e.tim.getGroupMemberProfile({groupID:t,userIDList:s}).then((function(t){var r=t.data.memberList;e.$store.commit("updateCurrentMemberList",r)}))),o.length>0&&e.$store.commit("showMessage",{message:"群成员：".concat(o.join(","),"，添加失败！"),type:"error"}),i.length>0&&e.$store.commit("showMessage",{message:"群成员：".concat(i.join(","),"，已在群中")})})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))}}},dr=fr,hr=Object(_["a"])(dr,ur,lr,!1,null,"060d6e7e",null),gr=hr.exports,vr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("span",{staticClass:"label"},[e._v("userID:")]),e._v("\n    "+e._s(e.member.userID)+"\n    "),e.showCancelBan?r("el-button",{attrs:{type:"text"},on:{click:e.cancelMute}},[e._v("取消禁言")]):e._e(),r("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.showBan,expression:"showBan"}],attrs:{title:"禁言"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[r("el-input",{attrs:{placeholder:"请输入禁言时间"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setGroupMemberMuteTime(t)}},model:{value:e.muteTime,callback:function(t){e.muteTime=t},expression:"muteTime"}}),r("el-button",{staticStyle:{color:"red"},attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("禁言")])],1)],1),r("div",[r("span",{staticClass:"label"},[e._v("nick:")]),e._v("\n    "+e._s(e.member.nick||"暂无")+"\n  ")]),r("div",[r("span",{staticClass:"label"},[e._v("nameCard:")]),e._v("\n    "+e._s(e.member.nameCard||"暂无")+"\n    "),r("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.showEditNameCard,expression:"showEditNameCard"}],attrs:{title:"修改群名片"},model:{value:e.nameCardPopoverVisible,callback:function(t){e.nameCardPopoverVisible=t},expression:"nameCardPopoverVisible"}},[r("el-input",{attrs:{placeholder:"请输入群名片"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setGroupMemberNameCard(t)}},model:{value:e.nameCard,callback:function(t){e.nameCard=t},expression:"nameCard"}}),r("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer","font-size":"1.6rem"},attrs:{slot:"reference",title:"修改群名片"},slot:"reference"})],1)],1),r("div",[r("span",{staticClass:"label"},[e._v("role:")]),r("span",{staticClass:"content role",attrs:{title:e.changeRoleTitle}},[e._v(e._s(e.member.role))])]),e.showMuteUntil?r("div",[r("span",{staticClass:"label"},[e._v("禁言至:")]),r("span",{staticClass:"content"},[e._v(e._s(e.muteUntil))])]):e._e(),e.canChangeRole?r("el-button",{attrs:{type:"text"},on:{click:e.changeMemberRole}},[e._v("\n    "+e._s("Admin"===e.member.role?"取消管理员":"设为管理员")+"\n  ")]):e._e(),e.showKickout?r("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:e.kickoutGroupMember}},[e._v("踢出群组")]):e._e()],1)},br=[];r("c5f6");function yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yr(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Or={components:{ElPopover:cr.a},props:["member"],data:function(){return{muteTime:"",popoverVisible:!1,nameCardPopoverVisible:!1,nameCard:this.member.nameCard}},computed:wr({},Object(k["mapState"])({currentConversation:function(e){return e.conversation.currentConversation},currentUserProfile:function(e){return e.user.currentUserProfile},current:function(e){return e.current}}),{showKickout:function(){return(this.isOwner||this.isAdmin)&&!this.isMine},isOwner:function(){return"Owner"===this.currentConversation.groupProfile.selfInfo.role},isAdmin:function(){return"Admin"===this.currentConversation.groupProfile.selfInfo.role},isMine:function(){return this.currentUserProfile.userID===this.member.userID},canChangeRole:function(){return this.isOwner&&["ChatRoom","Public"].includes(this.currentConversation.subType)},changeRoleTitle:function(){return this.canChangeRole?this.isOwner&&"Admin"===this.member.role?"设为：Member":"设为：Admin":""},showMuteUntil:function(){return 1e3*this.member.muteUntil>this.current},showCancelBan:function(){return!(!this.showMuteUntil||this.currentConversation.type!==this.TIM.TYPES.CONV_GROUP||this.isMine)&&(this.isOwner||this.isAdmin)},showBan:function(){return this.currentConversation.type===this.TIM.TYPES.CONV_GROUP&&(this.isOwner||this.isAdmin)},showEditNameCard:function(){return this.isOwner||this.isAdmin},muteUntil:function(){return W(new Date(1e3*this.member.muteUntil))}}),methods:{kickoutGroupMember:function(){var e=this;this.tim.deleteGroupMember({groupID:this.currentConversation.groupProfile.groupID,reason:"我要踢你出群",userIDList:[this.member.userID]}).then((function(){e.$store.commit("deleteGroupMemeber",e.member.userID)})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},changeMemberRole:function(){var e=this;if(this.canChangeRole){var t=this.member.role;this.tim.setGroupMemberRole({groupID:this.currentConversation.groupProfile.groupID,userID:this.member.userID,role:"Admin"===t?"Member":"Admin"}).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))}},setGroupMemberMuteTime:function(){var e=this;this.tim.setGroupMemberMuteTime({groupID:this.currentConversation.groupProfile.groupID,userID:this.member.userID,muteTime:Number(this.muteTime)}).then((function(){e.muteTime="",e.popoverVisible=!1})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},cancelMute:function(){var e=this;this.tim.setGroupMemberMuteTime({groupID:this.currentConversation.groupProfile.groupID,userID:this.member.userID,muteTime:0}).then((function(){e.muteTime=""})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},setGroupMemberNameCard:function(){var e=this;0!==this.nameCard.trim().length?this.tim.setGroupMemberNameCard({groupID:this.currentConversation.groupProfile.groupID,userID:this.member.userID,nameCard:this.nameCard}).then((function(){e.nameCardPopoverVisible=!1,e.$store.commit("showMessage",{message:"修改成功"})})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})})):this.$store.commit("showMessage",{message:"不能设置空的群名片",type:"warning"})}}},Cr=Or,_r=(r("3f8a"),Object(_["a"])(Cr,vr,br,!1,null,"1d6903e9",null)),Pr=_r.exports;function Mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mr(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ir={data:function(){return{addGroupMemberVisible:!1,currentMemberID:"",count:30}},props:["groupProfile"],components:{Popover:cr.a,AddGroupMember:gr,GroupMemberInfo:Pr},computed:jr({},Object(k["mapState"])({currentConversation:function(e){return e.conversation.currentConversation},currentMemberList:function(e){return e.group.currentMemberList}}),{showLoadMore:function(){return this.members.length<this.groupProfile.memberNum},members:function(){return this.currentMemberList.slice(0,this.count)}}),methods:{getGroupMemberAvatarText:function(e){switch(e){case"Owner":return"群主";case"Admin":return"管理员";default:return"群成员"}},loadMore:function(){var e=this;this.$store.dispatch("getGroupMemberList",this.groupProfile.groupID).then((function(){e.count+=30}))}}},xr=Ir,Er=(r("1ffe"),Object(_["a"])(xr,or,ir,!1,null,"3519995a",null)),Dr=Er.exports,kr={props:["groupProfile"],components:{GroupMemberList:Dr,ElSelect:sr.a,ElOption:rr.a},data:function(){return{showEditName:!1,showEditFaceUrl:!1,showEditIntroduction:!1,showEditNotification:!1,showEditJoinOption:!1,showChangeGroupOwner:!1,showEditMessageRemindType:!1,showEditNameCard:!1,name:this.groupProfile.name,avatar:this.groupProfile.avatar,introduction:this.groupProfile.introduction,notification:this.groupProfile.notification,joinOption:this.groupProfile.joinOption,newOwnerUserID:"",messageRemindType:this.groupProfile.selfInfo.messageRemindType,nameCard:this.groupProfile.selfInfo.nameCard||"",messageRemindTypeMap:{AcceptAndNotify:"接收消息并提示",AcceptNotNotify:"接收消息但不提示",Discard:"屏蔽消息"},joinOptionMap:{FreeAccess:"自由加入",NeedPermission:"需要验证",DisableApply:"禁止加群"}}},computed:{editable:function(){return this.groupProfile.type===this.TIM.TYPES.GRP_PRIVATE||["Owner","Admin"].includes(this.groupProfile.selfInfo.role)},isOwner:function(){return"Owner"===this.groupProfile.selfInfo.role},showDissmissGroup:function(){return this.isOwner&&"Private"!==this.groupProfile.type}},watch:{groupProfile:function(e){Object.assign(this,{showEditName:!1,showEditFaceUrl:!1,showEditIntroduction:!1,showEditNotification:!1,showEditJoinOption:!1,showChangeGroupOwner:!1,showEditNameCard:!1,name:e.name,avatar:e.avatar,introduction:e.introduction,notification:e.notification,joinOption:e.joinOption,messageRemindType:e.messageRemindType,nameCard:e.selfInfo.nameCard||""})}},methods:{inputFocus:function(e){var t=this;this.$nextTick((function(){t.$refs[e].focus()}))},editName:function(){var e=this;this.tim.updateGroupProfile({groupID:this.groupProfile.groupID,name:this.name.trim()}).then((function(){e.showEditName=!1})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},editFaceUrl:function(){var e=this;this.tim.updateGroupProfile({groupID:this.groupProfile.groupID,avatar:this.avatar.trim()}).then((function(){e.showEditFaceUrl=!1})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},editIntroduction:function(){var e=this;this.tim.updateGroupProfile({groupID:this.groupProfile.groupID,introduction:this.introduction.trim()}).then((function(){e.showEditIntroduction=!1})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},editNotification:function(){var e=this;this.tim.updateGroupProfile({groupID:this.groupProfile.groupID,notification:this.notification.trim()}).then((function(){e.showEditNotification=!1})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},editJoinOption:function(){var e=this;this.tim.updateGroupProfile({groupID:this.groupProfile.groupID,joinOption:this.joinOption}).then((function(){e.showEditJoinOption=!1})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},changeOwner:function(){var e=this;this.tim.changeGroupOwner({groupID:this.groupProfile.groupID,newOwnerID:this.newOwnerUserID}).then((function(){e.showChangeGroupOwner=!1,e.$store.commit("showMessage",{message:"转让群主成功，新群主ID：".concat(e.newOwnerUserID)}),e.newOwnerUserID=""})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},quitGroup:function(){var e=this;this.tim.quitGroup(this.groupProfile.groupID).then((function(t){var r=t.data.groupID;e.$store.commit("showMessage",{message:"退群成功"}),r===e.groupProfile.groupID&&e.$store.commit("resetCurrentConversation")})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},dismissGroup:function(){var e=this;this.tim.dismissGroup(this.groupProfile.groupID).then((function(t){var r=t.data.groupID;e.$store.commit("showMessage",{message:"群：".concat(e.groupProfile.name||e.groupProfile.groupID,"解散成功！"),type:"success"}),r===e.groupProfile.groupID&&e.$store.commit("resetCurrentConversation")})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},editMessageRemindType:function(){var e=this;this.tim.setMessageRemindType({groupID:this.groupProfile.groupID,messageRemindType:this.messageRemindType}).then((function(){e.showEditMessageRemindType=!1})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},editNameCard:function(){var e=this;0!==this.nameCard.trim().length?this.tim.setGroupMemberNameCard({groupID:this.groupProfile.groupID,nameCard:this.nameCard.trim()}).then((function(){e.showEditNameCard=!1})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})})):this.$store.commit("showMessage",{message:"不能设置空的群名片",type:"warning"})}}},Tr=kr,Sr=(r("0716"),Object(_["a"])(Tr,Xt,er,!1,null,null,null)),Lr=Sr.exports,Ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile-user"},[e._m(0),r("avatar",{attrs:{title:e.userProfile.userID,src:e.userProfile.avatar}}),r("div",{staticClass:"nick-name text-ellipsis"},[e.userProfile.nick?r("span",{attrs:{title:e.userProfile.nick}},[e._v("\n        "+e._s(e.userProfile.nick)+"\n      ")]):r("span",{staticClass:"anonymous",attrs:{title:"该用户未设置昵称"}},[e._v("\n        [Anonymous]\n      ")])]),e.genderClass?r("div",{staticClass:"gender"},[r("span",{staticClass:"iconfont",class:e.genderClass,attrs:{title:e.gender}})]):e._e()],1)},Gr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header-bar"},[r("div",{staticClass:"title"},[e._v("系统消息")])])}];r("20d6");function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $r={props:{userProfile:{type:Object,required:!0}},computed:Rr({},Object(k["mapState"])({blacklist:function(e){return e.blacklist.blacklist},myUserID:function(e){return e.user.currentUserProfile.userID}}),{isInBlacklist:function(){var e=this;return this.blacklist.findIndex((function(t){return t.userID===e.userProfile.userID}))>=0},gender:function(){switch(this.userProfile.gender){case this.TIM.TYPES.GENDER_MALE:return"男";case this.TIM.TYPES.GENDER_FEMALE:return"女";default:return"未设置"}},genderClass:function(){switch(this.userProfile.gender){case this.TIM.TYPES.GENDER_MALE:return"icon-male";case this.TIM.TYPES.GENDER_FEMALE:return"icon-female";default:return""}}}),methods:{addToBlackList:function(){var e=this;this.tim.addToBlacklist({userIDList:[this.userProfile.userID]}).then((function(){e.$store.dispatch("getBlacklist")})).catch((function(t){e.$store.commit("showMessage",{message:t.message,type:"error"})}))},removeFromBlacklist:function(){var e=this;this.tim.removeFromBlacklist({userIDList:[this.userProfile.userID]}).then((function(){e.$store.commit("removeFromBlacklist",e.userProfile.userID)})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))}}},Ur=$r,Br=(r("208e"),Object(_["a"])(Ur,Ar,Gr,!1,null,"6195e9a2",null)),Vr=Br.exports;function Fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fr(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qr={name:"ConversationProfile",components:{GroupProfile:Lr,UserProfile:Vr},data:function(){return{}},computed:Yr({},Object(k["mapState"])({currentConversation:function(e){return e.conversation.currentConversation}}))},zr=qr,Hr=(r("722d"),Object(_["a"])(zr,Zt,Wt,!1,null,"2bcda9d6",null)),Kr=Hr.exports,Jr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"el-fade-in"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"member-profile-card",staticClass:"member-profile-card-wrapper",style:{top:e.y+"px",left:e.x+"px"}},[r("div",{staticClass:"profile"},[r("avatar",{staticClass:"avatar",attrs:{src:e.member.avatar}}),r("div",{staticClass:"basic"},[r("span",[e._v("ID："+e._s(e.member.userID))]),r("span",[e._v("昵称："+e._s(e.member.nick||"暂无"))])])],1),r("el-divider",{staticClass:"divider"}),r("div",{staticClass:"member-profile"},[r("div",{staticClass:"item"},[r("span",{staticClass:"label"},[e._v("群名片")]),e._v("\n        "+e._s(e.member.nameCard||"暂无")+"\n      ")]),r("div",{staticClass:"item"},[r("span",{staticClass:"label"},[e._v("入群时间")]),e._v("\n        "+e._s(e.joinTime)+"\n      ")]),e.member.muteUntil?r("div",{staticClass:"item"},[r("span",{staticClass:"label"},[e._v("禁言至")]),e._v("\n        "+e._s(e.muteUntil)+"\n      ")]):e._e()]),r("el-button",{staticClass:"send-message-btn",attrs:{type:"primary",size:"mini",title:"发消息",icon:"el-icon-message",circle:""},on:{click:e.handleSendMessage}})],1)])},Qr=[],Zr=(r("e3ea"),r("7bc3")),Wr=r.n(Zr),Xr={name:"MemberProfileCard",components:{ElDivider:Wr.a},data:function(){return{member:{},x:0,y:0,visible:!1}},mounted:function(){this.$bus.$on("showMemberProfile",this.handleShowMemberProfile,this)},computed:{joinTime:function(){return this.member.joinTime?W(new Date(1e3*this.member.joinTime)):""},muteUntil:function(){return this.member.muteUntil?W(new Date(1e3*this.member.muteUntil)):""}},methods:{handleSendMessage:function(){this.$store.dispatch("checkoutConversation","C2C".concat(this.member.userID)),this.hide()},handleShowMemberProfile:function(e){var t=e.event,r=e.member;this.member=r||{},this.x=t.x,this.y=t.y,this.show()},show:function(){this.visible||(window.addEventListener("click",this.handleClick,this),this.visible=!0)},hide:function(){this.visible&&(window.removeEventListener("click",this.handleClick,this),this.visible=!1)},handleClick:function(e){e.target!==this.$refs["member-profile-card"]&&this.hide()}}},en=Xr,tn=(r("802e"),Object(_["a"])(en,Jr,Qr,!1,null,"073908cc",null)),rn=tn.exports;function nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nn(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var on={name:"CurrentConversation",components:{MessageSendBox:R,MessageItem:Qt,ConversationProfile:Kr,MemberProfileCard:rn},data:function(){return{isShowScrollButtomTips:!1,preScrollHeight:0,showConversationProfile:!0,timeout:""}},computed:sn({},Object(k["mapState"])({currentConversation:function(e){return e.conversation.currentConversation},currentMessageList:function(e){return e.conversation.currentMessageList},isCompleted:function(e){return e.conversation.isCompleted}}),{},Object(k["mapGetters"])(["toAccount"]),{showCurrentConversation:function(){return!!this.currentConversation.conversationID},name:function(){return"C2C"===this.currentConversation.type?this.currentConversation.userProfile.nick||this.toAccount:"GROUP"===this.currentConversation.type?this.currentConversation.groupProfile.name||this.toAccount:"@TIM#SYSTEM"===this.currentConversation.conversationID?"系统通知":this.toAccount},showMessageSendBox:function(){return this.currentConversation.type!==this.TIM.TYPES.CONV_SYSTEM}}),mounted:function(){if(this.$bus.$on("image-loaded",this.onImageLoaded),this.$bus.$on("scroll-bottom",this.scrollMessageListToButtom),"@TIM#SYSTEM"===this.currentConversation.conversationID)return!1},updated:function(){this.keepMessageListOnButtom(),"@TIM#SYSTEM"!==this.currentConversation.conversationID&&"undefined"!==typeof this.currentConversation.conversationID||(this.showConversationProfile=!1)},methods:{onScroll:function(e){var t=e.target.scrollTop,r=this.$refs["message-list"];r&&this.preScrollHeight-r.clientHeight-t<20&&(this.isShowScrollButtomTips=!1)},keepMessageListOnButtom:function(){var e=this.$refs["message-list"];e&&(this.preScrollHeight-e.clientHeight-e.scrollTop<20?(this.$nextTick((function(){e.scrollTop=e.scrollHeight})),this.isShowScrollButtomTips=!1):this.isShowScrollButtomTips=!0,this.preScrollHeight=e.scrollHeight)},scrollMessageListToButtom:function(){var e=this;this.$nextTick((function(){var t=e.$refs["message-list"];t&&(t.scrollTop=t.scrollHeight,e.preScrollHeight=t.scrollHeight,e.isShowScrollButtomTips=!1)}))},showMore:function(){this.showConversationProfile=!this.showConversationProfile},onImageLoaded:function(){this.keepMessageListOnButtom()}}},an=on,cn=(r("2991"),Object(_["a"])(an,T,S,!1,null,"598708eb",null)),un=cn.exports,ln=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"side-bar-wrapper"},[r("div",{staticClass:"bar-left"},[r("my-profile"),r("div",{staticClass:"tab-items",on:{click:e.handleClick}},[r("div",{staticClass:"iconfont icon-conversation",class:{active:e.showConversationList},attrs:{id:"conversation-list",title:"信息列表"}},[0!==e.totalUnreadCount?r("sup",{staticClass:"unread"},[e.totalUnreadCount>99?[e._v("99+")]:[e._v(e._s(e.totalUnreadCount))]],2):e._e()])]),r("div",{staticClass:"bottom"},[r("div",{staticClass:"iconfont icon-tuichu",attrs:{title:"退出"},on:{click:function(t){return e.$store.dispatch("logout")}}})])],1),r("div",{staticClass:"bar-right"},[r("conversation-list",{directives:[{name:"show",rawName:"v-show",value:e.showConversationList,expression:"showConversationList"}]}),r("group-list",{directives:[{name:"show",rawName:"v-show",value:e.showGroupList,expression:"showGroupList"}]}),r("friend-list",{directives:[{name:"show",rawName:"v-show",value:e.showFriendList,expression:"showFriendList"}]}),r("black-list",{directives:[{name:"show",rawName:"v-show",value:e.showBlackList,expression:"showBlackList"}]})],1)])},pn=[],mn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-profile-wrapper"},[r("el-dialog",{attrs:{title:"编辑",visible:e.showEditMyProfile,width:"60%"},on:{"update:visible":function(t){e.showEditMyProfile=t}}},[r("el-form",{attrs:{"label-width":"100px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[r("el-form-item",{attrs:{label:"关注老师"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.teacherids,expression:"teacherids"}],attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.teacherids)?e._i(e.teacherids,"1")>-1:e.teacherids},on:{change:function(t){var r=e.teacherids,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="1",i=e._i(r,o);n.checked?i<0&&(e.teacherids=r.concat([o])):i>-1&&(e.teacherids=r.slice(0,i).concat(r.slice(i+1)))}else e.teacherids=s}}}),e._v("启明\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.teacherids,expression:"teacherids"}],attrs:{type:"checkbox",value:"2"},domProps:{checked:Array.isArray(e.teacherids)?e._i(e.teacherids,"2")>-1:e.teacherids},on:{change:function(t){var r=e.teacherids,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="2",i=e._i(r,o);n.checked?i<0&&(e.teacherids=r.concat([o])):i>-1&&(e.teacherids=r.slice(0,i).concat(r.slice(i+1)))}else e.teacherids=s}}}),e._v("泰山\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.teacherids,expression:"teacherids"}],attrs:{type:"checkbox",value:"3"},domProps:{checked:Array.isArray(e.teacherids)?e._i(e.teacherids,"3")>-1:e.teacherids},on:{change:function(t){var r=e.teacherids,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="3",i=e._i(r,o);n.checked?i<0&&(e.teacherids=r.concat([o])):i>-1&&(e.teacherids=r.slice(0,i).concat(r.slice(i+1)))}else e.teacherids=s}}}),e._v("厚德\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.teacherids,expression:"teacherids"}],attrs:{type:"checkbox",value:"4"},domProps:{checked:Array.isArray(e.teacherids)?e._i(e.teacherids,"4")>-1:e.teacherids},on:{change:function(t){var r=e.teacherids,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="4",i=e._i(r,o);n.checked?i<0&&(e.teacherids=r.concat([o])):i>-1&&(e.teacherids=r.slice(0,i).concat(r.slice(i+1)))}else e.teacherids=s}}}),e._v("光明\n      ")]),r("el-form-item",{attrs:{label:"关注品种"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.futuresnoes,expression:"futuresnoes"}],attrs:{type:"checkbox",value:"cl"},domProps:{checked:Array.isArray(e.futuresnoes)?e._i(e.futuresnoes,"cl")>-1:e.futuresnoes},on:{change:function(t){var r=e.futuresnoes,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="cl",i=e._i(r,o);n.checked?i<0&&(e.futuresnoes=r.concat([o])):i>-1&&(e.futuresnoes=r.slice(0,i).concat(r.slice(i+1)))}else e.futuresnoes=s}}}),e._v(" 原油\n         "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.futuresnoes,expression:"futuresnoes"}],attrs:{type:"checkbox",value:"gc"},domProps:{checked:Array.isArray(e.futuresnoes)?e._i(e.futuresnoes,"gc")>-1:e.futuresnoes},on:{change:function(t){var r=e.futuresnoes,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="gc",i=e._i(r,o);n.checked?i<0&&(e.futuresnoes=r.concat([o])):i>-1&&(e.futuresnoes=r.slice(0,i).concat(r.slice(i+1)))}else e.futuresnoes=s}}}),e._v(" 黄金\n         "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.futuresnoes,expression:"futuresnoes"}],attrs:{type:"checkbox",value:"hsi"},domProps:{checked:Array.isArray(e.futuresnoes)?e._i(e.futuresnoes,"hsi")>-1:e.futuresnoes},on:{change:function(t){var r=e.futuresnoes,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="hsi",i=e._i(r,o);n.checked?i<0&&(e.futuresnoes=r.concat([o])):i>-1&&(e.futuresnoes=r.slice(0,i).concat(r.slice(i+1)))}else e.futuresnoes=s}}}),e._v(" 恒指\n         "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.futuresnoes,expression:"futuresnoes"}],attrs:{type:"checkbox",value:"nas"},domProps:{checked:Array.isArray(e.futuresnoes)?e._i(e.futuresnoes,"nas")>-1:e.futuresnoes},on:{change:function(t){var r=e.futuresnoes,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="nas",i=e._i(r,o);n.checked?i<0&&(e.futuresnoes=r.concat([o])):i>-1&&(e.futuresnoes=r.slice(0,i).concat(r.slice(i+1)))}else e.futuresnoes=s}}}),e._v(" 纳指\n         "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.futuresnoes,expression:"futuresnoes"}],attrs:{type:"checkbox",value:"hg"},domProps:{checked:Array.isArray(e.futuresnoes)?e._i(e.futuresnoes,"hg")>-1:e.futuresnoes},on:{change:function(t){var r=e.futuresnoes,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="hg",i=e._i(r,o);n.checked?i<0&&(e.futuresnoes=r.concat([o])):i>-1&&(e.futuresnoes=r.slice(0,i).concat(r.slice(i+1)))}else e.futuresnoes=s}}}),e._v(" 铜\n         "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.futuresnoes,expression:"futuresnoes"}],attrs:{type:"checkbox",value:"ng"},domProps:{checked:Array.isArray(e.futuresnoes)?e._i(e.futuresnoes,"ng")>-1:e.futuresnoes},on:{change:function(t){var r=e.futuresnoes,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="ng",i=e._i(r,o);n.checked?i<0&&(e.futuresnoes=r.concat([o])):i>-1&&(e.futuresnoes=r.slice(0,i).concat(r.slice(i+1)))}else e.futuresnoes=s}}}),e._v(" 天然气\n         "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.futuresnoes,expression:"futuresnoes"}],attrs:{type:"checkbox",value:"dax"},domProps:{checked:Array.isArray(e.futuresnoes)?e._i(e.futuresnoes,"dax")>-1:e.futuresnoes},on:{change:function(t){var r=e.futuresnoes,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="dax",i=e._i(r,o);n.checked?i<0&&(e.futuresnoes=r.concat([o])):i>-1&&(e.futuresnoes=r.slice(0,i).concat(r.slice(i+1)))}else e.futuresnoes=s}}}),e._v(" 德指\n\n      ")]),r("el-form-item",{attrs:{label:"头像"}},[r("el-input",{attrs:{placeholder:"头像地址(URL)"},model:{value:e.form.avatar,callback:function(t){e.$set(e.form,"avatar",t)},expression:"form.avatar"}})],1),r("el-form-item",{attrs:{label:"昵称"}},[r("el-input",{attrs:{placeholder:"昵称"},on:{blur:e.change},model:{value:e.form.nick,callback:function(t){e.$set(e.form,"nick",t)},expression:"form.nick"}})],1),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio-group",{model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[r("el-radio",{attrs:{label:e.TIM.TYPES.GENDER_MALE}},[e._v("男")]),r("el-radio",{attrs:{label:e.TIM.TYPES.GENDER_FEMALE}},[e._v("女")]),r("el-radio",{attrs:{label:e.TIM.TYPES.GENDER_UNKNOWN}},[e._v("不显示")])],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showEditMyProfile=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editMyProfile}},[e._v("确 定")])],1)],1),r("div",[r("a",{attrs:{href:"/index/user/profile.html"}},[r("avatar",{staticClass:"my-avatar",attrs:{slot:"reference",src:e.currentUserProfile.avatar},slot:"reference"})],1)])],1)},fn=[];function dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dn(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gn={name:"MyProfile",components:{ElPopover:cr.a,ElForm:Mt.a,ElFormItem:_t.a,ElRadioGroup:Ot.a,ElRadio:yt.a},data:function(){return{showEditMyProfile:!1,form:{avatar:"",nick:"",gender:""}}},computed:hn({},Object(k["mapState"])({currentUserProfile:function(e){return e.user.currentUserProfile},currentConversation:function(e){return e.conversation.currentConversation}}),{gender:function(){switch(this.currentUserProfile.gender){case this.TIM.TYPES.GENDER_MALE:return"男";case this.TIM.TYPES.GENDER_FEMALE:return"女";default:return"暂无"}}}),methods:{change:function(){},editMyProfile:function(){var e=this;if(this.form.avatar&&-1===this.form.avatar.indexOf("http"))return this.$store.commit("showMessage",{message:"头像应该是 Url 地址",type:"warning"}),void(this.form.avatar="");var t={};Object.keys(this.form).forEach((function(r){e.form[r]&&(t[r]=e.form[r])})),this.tim.updateMyProfile(t).then((function(){e.$store.commit("showMessage",{message:"修改成功"}),e.showEditMyProfile=!1})).catch((function(t){e.$store.commit("showMessage",{message:t.message,type:"error"})}))},handleEdit:function(){var e=this.currentUserProfile,t=e.avatar,r=e.nick,n=e.gender;Object.assign(this.form,{avatar:t,nick:r,gender:n}),this.showEditMyProfile=!0}}},vn=gn,bn=(r("683f"),Object(_["a"])(vn,mn,fn,!1,null,"7e90480d",null)),yn=bn.exports,wn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-container"},[e._m(0),r("div",{staticClass:"scroll-container"},e._l(e.conversationList,(function(e){return r("conversation-item",{key:e.conversationID,attrs:{conversation:e}})})),1),r("el-dialog",{attrs:{title:"快速发起会话",visible:e.showDialog,width:"30%"},on:{"update:visible":function(t){e.showDialog=t}}},[r("el-input",{attrs:{placeholder:"请输入用户ID"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleConfirm(t)}},model:{value:e.userID,callback:function(t){e.userID=t},expression:"userID"}}),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showDialog=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")])],1)],1)],1)},On=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header-bar"},[r("div",{staticClass:"title"})])}],Cn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"conversation-item-container",class:{choose:e.conversation.conversationID===e.currentConversation.conversationID},on:{click:e.selectConversation}},[r("div",{staticClass:"close-btn"}),r("div",{staticClass:"warp"},[r("avatar",{attrs:{src:e.avatar,type:e.conversation.type}}),r("div",{staticClass:"content"},[r("div",{staticClass:"row-1"},[r("div",{staticClass:"name"},[r("div",{staticClass:"text-ellipsis"},[e.conversation.type===e.TIM.TYPES.CONV_C2C?r("span",{attrs:{title:e.conversation.userProfile.nick||e.conversation.userProfile.userID}},[e._v(e._s(e.conversation.userProfile.nick||e.conversation.userProfile.userID)+"\n                ")]):e.conversation.type===e.TIM.TYPES.CONV_GROUP?r("span",{attrs:{title:e.conversation.groupProfile.name||e.conversation.groupProfile.groupID}},[e._v(e._s(e.conversation.groupProfile.name||e.conversation.groupProfile.groupID)+"\n                ")]):e.conversation.type===e.TIM.TYPES.CONV_SYSTEM?r("span",[e._v("系统通知\n                ")]):e._e()])]),r("div",{staticClass:"unread-count"},[e.conversation.unreadCount>0?r("span",{staticClass:"badge"},[e._v("\n                "+e._s(e.conversation.unreadCount)+"\n                "),e.conversation.unreadCount>99?[e._v("+")]:e._e()],2):e._e()])]),r("div",{staticClass:"row-2"},[r("div",{staticClass:"summary"},[e.conversation.lastMessage?r("div",{staticClass:"text-ellipsis"},[e.hasMessageAtMe?r("span",{staticClass:"remind",staticStyle:{color:"red"}},[e._v("[有人提到我]")]):e._e(),r("span",{staticClass:"text",attrs:{title:e.conversation.lastMessage.messageForShow}},[e._v("\n                  "+e._s(e.conversation.lastMessage.messageForShow)+"\n                ")])]):e._e()]),r("div",{staticClass:"date"},[e._v("\n\t\t\t\t\t\t"+e._s(e.date)+"\n\t\t\t\t\t")])])])],1)])},_n=[];function Pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pn(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jn={name:"conversation-item",props:["conversation"],data:function(){return{popoverVisible:!1,hasMessageAtMe:!1}},computed:Mn({showUnreadCount:function(){return this.currentConversation.conversationID!==this.conversation.conversationID&&this.conversation.unreadCount>0},date:function(){if(!this.conversation.lastMessage||!this.conversation.lastMessage.lastTime)return"";var e=new Date(1e3*this.conversation.lastMessage.lastTime);return X(e)?Z(e):Q(e)},avatar:function(){switch(this.conversation.type){case"GROUP":return this.conversation.groupProfile.avatar;case"C2C":return this.conversation.userProfile.avatar;default:return""}},conversationName:function(){return this.conversation.type===this.TIM.TYPES.CONV_C2C?this.conversation.userProfile.nick||this.conversation.userProfile.userID:this.conversation.type===this.TIM.TYPES.CONV_GROUP?this.conversation.groupProfile.name||this.conversation.groupProfile.groupID:this.conversation.type===this.TIM.TYPES.CONV_SYSTEM?"系统通知":""},showGrayBadge:function(){return this.conversation.type===this.TIM.TYPES.CONV_GROUP&&"AcceptNotNotify"===this.conversation.groupProfile.selfInfo.messageRemindType}},Object(k["mapState"])({currentConversation:function(e){return e.conversation.currentConversation}}),{},Object(k["mapGetters"])(["toAccount"])),mounted:function(){var e=this;this.$bus.$on("new-messsage-at-me",(function(t){t.data.conversationID===e.conversation.conversationID&&e.conversation.conversationID!==e.currentConversation.conversationID&&(e.hasMessageAtMe=!0)}))},methods:{selectConversation:function(){this.conversation.conversationID!==this.$store.state.conversation.currentConversation.conversationID&&this.$store.dispatch("checkoutConversation",this.conversation.conversationID)},deleteConversation:function(e){var t=this;e.stopPropagation(),this.tim.deleteConversation(this.conversation.conversationID).then((function(){t.$store.commit("showMessage",{message:"会话【".concat(t.conversationName,"】删除成功!"),type:"success"}),t.popoverVisible=!1,t.$store.commit("resetCurrentConversation")})).catch((function(e){t.$store.commit("showMessage",{message:"会话【".concat(t.conversationName,"】删除失败!, error=").concat(e.message),type:"error"}),t.popoverVisible=!1}))},showContextMenu:function(){this.popoverVisible=!0}},watch:{currentConversation:function(e){e.conversationID===this.conversation.conversationID&&(this.hasMessageAtMe=!1)}}},In=jn,xn=(r("deab"),Object(_["a"])(In,Cn,_n,!1,null,"77caab1a",null)),En=xn.exports;function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tn={name:"ConversationList",components:{ConversationItem:En},data:function(){return{showDialog:!1,userID:"",isCheckouting:!1,timeout:null}},computed:kn({},Object(k["mapState"])({conversationList:function(e){return e.conversation.conversationList},currentConversation:function(e){return e.conversation.currentConversation}})),mounted:function(){window.addEventListener("keydown",this.handleKeydown)},destroyed:function(){window.removeEventListener("keydown",this.handleKeydown)},methods:{handleRefresh:function(){this.refreshConversation()()},refreshConversation:function(){var e=this;return function(){e.timeout||(e.timeout=setTimeout((function(){e.timeout=null,e.tim.getConversationList().then((function(){e.$store.commit("showMessage",{message:"刷新成功",type:"success"})}))}),1e3))}},handleAddButtonClick:function(){this.showDialog=!0},handleConfirm:function(){var e=this;"@TIM#SYSTEM"!==this.userID?this.$store.dispatch("checkoutConversation","C2C".concat(this.userID)).then((function(){e.showDialog=!1})).catch((function(){e.$store.commit("showMessage",{message:"没有找到该用户",type:"warning"})})):this.$store.commit("showMessage",{message:"没有找到该用户",type:"warning"}),this.userID=""},handleKeydown:function(e){var t=this;if(!(38!==e.keyCode&&40!==e.keyCode||this.isCheckouting)){var r=this.conversationList.findIndex((function(e){return e.conversationID===t.currentConversation.conversationID}));38===e.keyCode&&r-1>=0&&this.checkoutPrev(r),40===e.keyCode&&r+1<this.conversationList.length&&this.checkoutNext(r)}},checkoutPrev:function(e){var t=this;this.isCheckouting=!0,this.$store.dispatch("checkoutConversation",this.conversationList[e-1].conversationID).then((function(){t.isCheckouting=!1})).catch((function(){t.isCheckouting=!1}))},checkoutNext:function(e){var t=this;this.isCheckouting=!0,this.$store.dispatch("checkoutConversation",this.conversationList[e+1].conversationID).then((function(){t.isCheckouting=!1})).catch((function(){t.isCheckouting=!1}))}}},Sn=Tn,Ln=(r("59a5"),Object(_["a"])(Sn,wn,On,!1,null,"99282b14",null)),An=Ln.exports,Gn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-container"},[r("div",{staticClass:"header-bar"},[r("el-autocomplete",{staticClass:"group-seach-bar",attrs:{"value-key":"groupID",debounce:500,size:"mini",placeholder:"输入群ID搜索","fetch-suggestions":e.searchGroupByID,"prefix-icon":"el-icon-search","hide-loading":e.hideSearchLoading},on:{input:function(t){e.hideSearchLoading=!1},select:e.applyJoinGroup},model:{value:e.groupID,callback:function(t){e.groupID=t},expression:"groupID"}}),r("button",{attrs:{title:"创建群组"},on:{click:e.showCreateGroupModel}},[r("i",{staticClass:"tim-icon-add"})])],1),r("div",{staticClass:"group-container"},[e._l(e.groupList,(function(e){return r("group-item",{key:e.groupID,attrs:{group:e}})})),r("el-dialog",{attrs:{title:"创建群组",visible:e.createGroupModelVisible,width:"30%"},on:{close:e.closeCreateGroupModel}},[r("create-group")],1)],2)])},Nn=[],Rn=(r("3db2"),r("58b8")),$n=r.n(Rn),Un=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"createGroupForm",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"群ID"}},[r("el-input",{model:{value:e.form.groupID,callback:function(t){e.$set(e.form,"groupID",t)},expression:"form.groupID"}})],1),r("el-form-item",{attrs:{label:"群名称",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"群类型"}},[r("el-select",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[r("el-option",{attrs:{label:"Private",value:"Private"}}),r("el-option",{attrs:{label:"Public",value:"Public"}}),r("el-option",{attrs:{label:"ChatRoom",value:"ChatRoom"}}),r("el-option",{attrs:{label:"AVChatRoom",value:"AVChatRoom"}})],1)],1),r("el-form-item",{attrs:{label:"群头像地址"}},[r("el-input",{model:{value:e.form.avatar,callback:function(t){e.$set(e.form,"avatar",t)},expression:"form.avatar"}})],1),r("el-form-item",{attrs:{label:"群简介"}},[r("el-input",{attrs:{type:"textarea",maxlength:240},model:{value:e.form.introduction,callback:function(t){e.$set(e.form,"introduction",t)},expression:"form.introduction"}})],1),r("el-form-item",{attrs:{label:"群公告"}},[r("el-input",{attrs:{type:"textarea",maxlength:300},model:{value:e.form.notification,callback:function(t){e.$set(e.form,"notification",t)},expression:"form.notification"}})],1),r("el-form-item",{attrs:{label:"加群方式"}},[r("el-radio-group",{attrs:{disabled:e.joinOptionDisabled},model:{value:e.form.joinOption,callback:function(t){e.$set(e.form,"joinOption",t)},expression:"form.joinOption"}},[r("el-radio",{attrs:{label:"FreeAccess"}},[e._v("自由加群")]),r("el-radio",{attrs:{label:"NeedPermission"}},[e._v("需要验证")]),r("el-radio",{attrs:{label:"DisableApply"}},[e._v("禁止加群")])],1)],1),r("el-form-item",{attrs:{label:"群成员列表"}},[r("el-select",{attrs:{"default-first-option":"",multiple:"",filterable:"",remote:"",disabled:"AVChatRoom"===e.form.type,"remote-method":e.handleSearchUser,loading:e.loading,placeholder:"请输入群成员 userID"},model:{value:e.form.memberList,callback:function(t){e.$set(e.form,"memberList",t)},expression:"form.memberList"}},e._l(e.options,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("createGroupForm")}}},[e._v("立即创建")]),r("el-button",{on:{click:e.closeCreateGroupModel}},[e._v("取消")])],1)],1)},Bn=[];function Vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vn(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Yn={components:{ElForm:Mt.a,ElFormItem:_t.a,ElInput:c.a,ElSelect:sr.a,ElOption:rr.a,ElRadioGroup:Ot.a,ElRadio:yt.a},data:function(){return{form:{groupID:"",name:"",type:"Private",avatar:"",introduction:"",notification:"",joinOption:"FreeAccess",memberList:[]},options:[],loading:!1,rules:{name:[{required:!0,message:"请输入群名称",trigger:"blur"}]}}},computed:{joinOptionDisabled:function(){return[this.TIM.TYPES.GRP_PRIVATE,this.TIM.TYPES.GRP_CHATROOM,this.TIM.TYPES.GRP_AVCHATROOM].includes(this.form.type)}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.createGroup()}))},closeCreateGroupModel:function(){this.$store.commit("updateCreateGroupModelVisible",!1)},createGroup:function(){var e=this;this.tim.createGroup(this.getOptions()).then((function(t){e.$store.commit("showMessage",{message:"群组：【".concat(t.data.group.name,"】创建成功"),type:"success"}),e.closeCreateGroupModel()})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},getOptions:function(){var e=Fn({},this.form,{memberList:this.form.memberList.map((function(e){return{userID:e}}))});return["Private","AVChatRoom"].includes(this.form.type)&&delete e.joinOption,e},handleSearchUser:function(e){var t=this;""!==e&&(this.loading=!0,this.tim.getUserProfile({userIDList:[e]}).then((function(e){var r=e.data;t.options=r.map((function(e){return e.userID})),t.loading=!1})).catch((function(e){t.$store.commit("showMessage",{type:"error",message:e.message})})))}}},qn=Yn,zn=Object(_["a"])(qn,Un,Bn,!1,null,"2b7a9e85",null),Hn=zn.exports,Kn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"scroll-container",on:{click:e.handleGroupClick}},[r("div",{staticClass:"group-item"},[r("avatar",{attrs:{src:e.group.avatar}}),r("div",{staticClass:"group-name text-ellipsis"},[e._v(e._s(e.group.name))])],1)])},Jn=[],Qn={props:["group"],data:function(){return{visible:!1,options:[{text:"退出群组",handler:this.quitGroup}]}},methods:{handleGroupClick:function(){var e="GROUP".concat(this.group.groupID);this.$store.dispatch("checkoutConversation",e)},quitGroup:function(){var e=this;this.tim.quitGroup(this.group.groupID).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))}}},Zn=Qn,Wn=(r("9b35"),Object(_["a"])(Zn,Kn,Jn,!1,null,"1c98d6c9",null)),Xn=Wn.exports;function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rs={data:function(){return{groupID:"",hideSearchLoading:!0}},components:{GroupItem:Xn,ElDialog:s.a,CreateGroup:Hn,ElAutocomplete:$n.a},computed:ts({groupList:function(){return this.$store.state.group.groupList}},Object(k["mapState"])({createGroupModelVisible:function(e){return e.group.createGroupModelVisible}})),methods:{onGroupUpdated:function(e){this.$store.dispatch("updateGroupList",e)},createGroup:function(){},closeCreateGroupModel:function(){this.$store.commit("updateCreateGroupModelVisible",!1)},searchGroupByID:function(e,t){var r=this;e.trim().length>0?(this.hideSearchLoading=!1,this.tim.searchGroupByID(e).then((function(e){var r=e.data.group;t([r])})).catch((function(){r.$store.commit("showMessage",{message:"没有找到该群",type:"error"})}))):this.hideSearchLoading=!0},showCreateGroupModel:function(){this.$store.commit("updateCreateGroupModelVisible",!0)},applyJoinGroup:function(e){var t=this;this.tim.joinGroup({groupID:e.groupID,type:e.type}).then((function(e){switch(e.data.status){case t.TIM.TYPES.JOIN_STATUS_WAIT_APPROVAL:t.$store.commit("showMessage",{message:"申请成功，等待群管理员确认。",type:"info"});break;case t.TIM.TYPES.JOIN_STATUS_SUCCESS:t.$store.commit("showMessage",{message:"加群成功",type:"success"});break;case t.TIM.TYPES.JOIN_STATUS_ALREADY_IN_GROUP:t.$store.commit("showMessage",{message:"您已经是群成员了，请勿重复加群哦！",type:"info"});break;default:break}})).catch((function(e){t.$store.commit("showMessage",{message:e.message,type:"error"})}))}}},ns=rs,ss=(r("9181"),Object(_["a"])(ns,Gn,Nn,!1,null,"e792dcd0",null)),os=ss.exports,is=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"friend-list-container mtop100",class:{default:!e.hasFriend}},[e.hasFriend?r("div",e._l(e.friendList,(function(e){return r("friend-item",{key:e.userID,attrs:{friend:e}})})),1):r("div",{staticStyle:{color:"gray"}},[e._v("暂无好友")])])},as=[],cs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mtop"},[r("el-row",{staticClass:"friend-item-container mleft10",on:{click:e.handleFriendClick}},[r("el-col",{attrs:{span:4}},[r("avatar",{attrs:{src:e.friend.profile.avatar}})],1),r("el-col",{attrs:{span:18}},[r("div",{staticClass:"friend-name mleft10 mtop10 fwhite"},[e._v(e._s(e.friend.profile.nick||e.friend.userID))])])],1)],1)},us=[],ls={props:{friend:{type:Object,required:!0}},methods:{handleFriendClick:function(){var e=this;this.tim.getConversationProfile("C2C".concat(this.friend.userID)).then((function(t){var r=t.data;alert(r),e.$store.commit("updateCurrentConversation",r)})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))}}},ps=ls,ms=(r("a415"),Object(_["a"])(ps,cs,us,!1,null,"f69a61da",null)),fs=ms.exports;function ds(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ds(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ds(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gs={components:{FriendItem:fs},computed:hs({},Object(k["mapState"])({friendList:function(e){return e.friend.friendList}}),{hasFriend:function(){return this.friendList.length>0}})},vs=gs,bs=(r("47b1"),Object(_["a"])(vs,is,as,!1,null,null,null)),ys=bs.exports,ws=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"blacklist-wrapper",class:{default:!e.hasBlacklist}},[e.hasBlacklist?r("div",e._l(e.blacklist,(function(e){return r("blacklist-item",{key:e.userID,attrs:{profile:e}})})),1):r("span",{staticStyle:{color:"gray"}},[e._v("黑名单还是空的")])])},Os=[],Cs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"blacklist-item-wrapper"},[r("img",{staticClass:"avatar",attrs:{src:e.profile.avatar?e.profile.avatar:"http://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-2.png"}}),r("div",{staticClass:"item"},[e._v(e._s(e.profile.nick||e.profile.userID))]),r("el-button",{attrs:{type:"text"},on:{click:e.removeFromBlacklist}},[e._v("取消拉黑")])],1)},_s=[],Ps={name:"BlacklistItem",props:{profile:{type:Object,required:!0}},methods:{removeFromBlacklist:function(){var e=this;this.tim.removeFromBlacklist({userIDList:[this.profile.userID]}).then((function(){e.$store.commit("removeFromBlacklist",e.profile.userID)})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))}}},Ms=Ps,js=(r("c28c"),Object(_["a"])(Ms,Cs,_s,!1,null,"0973cdc1",null)),Is=js.exports;function xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xs(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xs(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ds={name:"Blacklist",components:{BlacklistItem:Is},computed:Es({},Object(k["mapState"])({blacklist:function(e){return e.blacklist.blacklist}}),{hasBlacklist:function(){return this.blacklist.length>0}})},ks=Ds,Ts=(r("e677"),Object(_["a"])(ks,ws,Os,!1,null,"9176c1ca",null)),Ss=Ts.exports;function Ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ls(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ls(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gs={CONVERSATION_LIST:"conversation-list",GROUP_LIST:"group-list",FRIEND_LIST:"friend-list",BLACK_LIST:"black-list"},Ns={name:"SideBar",components:{MyProfile:yn,ConversationList:An,GroupList:os,FriendList:ys,BlackList:Ss},data:function(){return{active:Gs.CONVERSATION_LIST,activeName:Gs}},computed:As({},Object(k["mapGetters"])(["totalUnreadCount"]),{showConversationList:function(){return this.active===Gs.CONVERSATION_LIST},showGroupList:function(){return this.active===Gs.GROUP_LIST},showFriendList:function(){return this.active===Gs.FRIEND_LIST},showBlackList:function(){return this.active===Gs.BLACK_LIST},showAddButton:function(){return[Gs.CONVERSATION_LIST,Gs.GROUP_LIST].includes(this.active)}}),methods:{checkoutActive:function(e){this.active=e},handleClick:function(e){switch(e.target.id){case Gs.CONVERSATION_LIST:this.checkoutActive(Gs.CONVERSATION_LIST);break;case Gs.GROUP_LIST:this.checkoutActive(Gs.GROUP_LIST);break;case Gs.FRIEND_LIST:this.getFriendList(),this.checkoutActive(Gs.FRIEND_LIST);break;case Gs.BLACK_LIST:this.checkoutActive(Gs.BLACK_LIST);break}},handleRefresh:function(){var e=this;switch(this.active){case Gs.CONVERSATION_LIST:this.tim.getConversationList().catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}));break;case Gs.GROUP_LIST:this.getGroupList();break;case Gs.FRIEND_LIST:this.getFriendList();break;case Gs.BLACK_LIST:this.$store.dispatch("getBlacklist");break}},getGroupList:function(){var e=this;this.tim.getGroupList().then((function(t){var r=t.data;e.$store.dispatch("updateGroupList",r)})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))},getFriendList:function(){var e=this;this.tim.getFriendList().then((function(t){var r=t.data;e.$store.commit("upadteFriendList",r)})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})})).catch((function(t){e.$store.commit("showMessage",{type:"error",message:t.message})}))}}},Rs=Ns,$s=(r("af1d"),Object(_["a"])(Rs,ln,pn,!1,null,"f452a330",null)),Us=$s.exports,Bs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-wrapper"},[r("img",{staticClass:"logo",attrs:{src:e.logo}}),r("el-form",{ref:"login",staticStyle:{width:"100%"},attrs:{rules:e.rules,model:e.form,"label-width":"0"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}}},[r("el-form-item",{attrs:{prop:"userID"}},[r("el-input",{attrs:{placeholder:"用户名"},model:{value:e.form.userID,callback:function(t){e.$set(e.form,"userID",t)},expression:"form.userID"}}),r("el-input",{attrs:{placeholder:"请输入密码",type:"password","show-password":"",clearable:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-button",{staticStyle:{width:"100%","margin-top":"6px"},attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("登录\n\t\t")]),r("br"),r("el-button",{staticStyle:{width:"100%","margin-top":"6px"},on:{click:e.register}},[e._v("注册")])],1)],1)},Vs=[],Fs=r("a1d8"),Ys=r.n(Fs),qs=r("0b16"),zs=qs.parse(window.location.href,!0),Hs=zs.query["username"]||"",Ks=zs.query["head"]||"";Ks&&(document.getElementById("header").style="display:");var Js="http://132.232.144.227:8080",Qs="".concat(Js,"/index/user/logoutajax"),Zs="".concat(Js,"/index/user/register.html"),Ws="https://1051487304903281.cn-hangzhou.fc.aliyuncs.com/2016-08-15/proxy/im/login/",Xs="".concat(Js,"/index/user/logineduser"),eo={name:"Login",components:{ElForm:Mt.a,ElFormItem:_t.a,ElSelect:sr.a,ElOption:rr.a},data:function(){var e=function(e,t,r){/^[a-zA-Z][a-zA-Z0-9_]{3,23}$/.test(t)?r():r(new Error("不合法（字母开头+字母/数字，长度4-24)"))};return{form:{userID:Hs,password:""},rules:{userID:[{required:!0,message:"请输入用户名",trigger:"blur"},{validator:e,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},logo:Ys.a,registerVisible:!1,loading:!1}},methods:{submit:function(){var e=this;this.$refs["login"].validate((function(t){t&&e.login()}))},toMain:function(e,t){var r=this;r.tim.login({userID:e,userSig:t}).then((function(){r.loading=!1,r.$store.commit("toggleIsLogin",!0),r.$store.commit("startComputeCurrent"),r.$store.commit("showMessage",{type:"success",message:"登录成功"})})).catch((function(e){r.loading=!1,r.$store.commit("showMessage",{message:"登录失败："+e.message,type:"error"})}))},register:function(){$.ajax({url:Qs,dataType:"jsonp"}).then((function(){window.location.href=Zs})).catch((function(){window.location.href=Zs}))},login:function(){this.loading=!0;var e={user:this.form.userID,pwd:this.form.password},t=this;$.ajax({type:"POST",url:Ws,data:e,dataType:"jsonp"}).then((function(e){if(e.isSucc){var r=e.data,n=r.uid,s=r.sign;t.toMain(n,s),$.ajax({url:Xs,dataType:"jsonp"}).then((function(e){e.isSucc&&t.$store.commit("setIndexData",e.data)}))}else t.loading=!1,t.$store.commit("showMessage",{message:e.msg,type:"error"})})).catch((function(e){t.loading=!1,t.$store.commit("showMessage",{message:"网络异常，稍后重试",type:"error"})}))}},mounted:function(){var e=this;$.ajax({type:"POST",url:Xs,dataType:"jsonp"}).then((function(t){if(t.isSucc){window["isLogin"]=!0,window["loginedUser"]=t.data.user;var r=window["loginedUser"],n=r.uid,s=r.sign;e.toMain(n,s)}}))}},to=eo,ro=(r("1c77"),Object(_["a"])(to,Bs,Vs,!1,null,"1604de9c",null)),no=ro.exports,so=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.showPreviewer,expression:"showPreviewer"}],staticClass:"image-previewer-wrapper",on:{mousewheel:e.handleMouseWheel}},[r("div",{staticClass:"image-wrapper"},[r("img",{staticClass:"image-preview",style:{transform:"scale("+e.zoom+") rotate("+e.rotate+"deg)"},attrs:{src:e.previewUrl},on:{click:e.close}})]),r("i",{staticClass:"el-icon-close close-button",on:{click:e.close}}),r("i",{staticClass:"el-icon-back prev-button",on:{click:e.goPrev}}),r("i",{staticClass:"el-icon-right next-button",on:{click:e.goNext}}),r("div",{staticClass:"actions-bar"},[r("i",{staticClass:"el-icon-zoom-out",on:{click:e.zoomOut}}),r("i",{staticClass:"el-icon-zoom-in",on:{click:e.zoomIn}}),r("i",{staticClass:"el-icon-refresh-left",on:{click:e.rotateLeft}}),r("i",{staticClass:"el-icon-refresh-right",on:{click:e.rotateRight}}),r("span",{staticClass:"image-counter"},[e._v(e._s(e.index+1)+" / "+e._s(e.imgUrlList.length))])])])},oo=[];function io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?io(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):io(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var co={name:"ImagePreviewer",data:function(){return{url:"",index:0,visible:!1,zoom:1,rotate:0,minZoom:.1}},computed:ao({},Object(k["mapGetters"])(["imgUrlList"]),{showPreviewer:function(){return this.url.length>0&&this.visible},imageStyle:function(){return{transform:"scale(".concat(this.zoom,");")}},previewUrl:function(){return this.formatUrl(this.imgUrlList[this.index])}}),mounted:function(){this.$bus.$on("image-preview",this.handlePreview)},methods:{handlePreview:function(e){var t=e.url;this.url=t,this.index=this.imgUrlList.findIndex((function(e){return e===t})),this.visible=!0},handleMouseWheel:function(e){e.wheelDelta>0?this.zoomIn():this.zoomOut()},zoomIn:function(){this.zoom+=.1},zoomOut:function(){this.zoom=this.zoom-.1>this.minZoom?this.zoom-.1:this.minZoom},close:function(){Object.assign(this,{zoom:1}),this.visible=!1},rotateLeft:function(){this.rotate-=90},rotateRight:function(){this.rotate+=90},goNext:function(){this.index=(this.index+1)%this.imgUrlList.length},goPrev:function(){this.index=this.index-1>=0?this.index-1:this.imgUrlList.length-1},formatUrl:function(e){return e?"//"===e.slice(0,2)?"https:".concat(e):e:""}}},uo=co,lo=(r("b542"),Object(_["a"])(uo,so,oo,!1,null,"12456632",null)),po=lo.exports,mo=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},fo=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"qr-code-list-wrapper"},[n("div",{staticClass:"qr-code-wrapper",staticStyle:{"margin-top":"10px"}},[n("div",{staticClass:"qr-code-item"},[n("img",{attrs:{src:r("38df")}}),n("div",{staticClass:"text"},[n("a",{attrs:{href:"http://132.232.144.227:8080/app/android/gendan.apk",target:"_blank"}},[e._v("Android 客户端")])])])])])}],ho=r("9579"),go=r.n(ho);go.a.init({sid:"500702399",cid:"500702403",autoReport:1,senseHash:0,senseQuery:0,performanceMonitor:0,ignoreParams:[]});var vo=go.a,bo={name:"qr-code-list",mounted:function(){vo.clickStat("link_one",{show:"true"})},methods:{handlClick:function(){vo.clickStat("link_one",{click:"true"})}}},yo=bo,wo=(r("320a"),Object(_["a"])(yo,mo,fo,!1,null,"0da7a050",null)),Oo=wo.exports;function Co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Co(r,!0).forEach((function(t){Object(D["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Co(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Po={title:"跟单",components:{Login:no,SideBar:Us,CurrentConversation:un,ImagePreviewer:po,QrCodeList:Oo},computed:_o({},Object(k["mapState"])({currentUserProfile:function(e){return e.user.currentUserProfile},currentConversation:function(e){return e.conversation.currentConversation},isLogin:function(e){return e.user.isLogin},isSDKReady:function(e){return e.user.isSDKReady}}),{showLoading:function(){return!this.isSDKReady}}),mounted:function(){this.initListener()},watch:{isLogin:function(e){e&&vo.clickStat("link_two",{show:"true"})}},methods:{initListener:function(){var e=this;this.tim.on(this.TIM.EVENT.SDK_READY,this.onReadyStateUpdate,this),this.tim.on(this.TIM.EVENT.SDK_NOT_READY,this.onReadyStateUpdate,this),this.tim.on(this.TIM.EVENT.KICKED_OUT,(function(){e.$store.commit("showMessage",{message:"被踢出，请重新登录。",type:"error"}),e.$store.commit("toggleIsLogin",!1),e.$store.commit("reset")})),this.tim.on(this.TIM.EVENT.ERROR,this.onError),this.tim.on(this.TIM.EVENT.MESSAGE_RECEIVED,this.onReceiveMessage),this.tim.on(this.TIM.EVENT.CONVERSATION_LIST_UPDATED,(function(t){e.$store.commit("updateConversationList",t.data)})),this.tim.on(this.TIM.EVENT.GROUP_LIST_UPDATED,(function(t){e.$store.commit("updateGroupList",t.data)})),this.tim.on(this.TIM.EVENT.GROUP_SYSTEM_NOTICE_RECEIVED,(function(t){var r=4===t.data.type,n="GROUP".concat(t.data.message.payload.groupProfile.groupID)===e.currentConversation.conversationID;r&&n&&e.$store.commit("resetCurrentConversation"),E()({title:"新系统通知",message:jt(t.data.message),duration:3e3,onClick:function(){var t="@TIM#SYSTEM";e.$store.dispatch("checkoutConversation",t)}})}))},onReceiveMessage:function(e){var t=e.data;this.handleAt(t);try{$("audio")[0].play()}catch(r){}try{Title.newTip();t[0].payload.text}catch(r){}this.$store.commit("pushCurrentMessageList",t)},onError:function(e){var t=e.data;"Network Error"!==t.message&&this.$store.commit("showMessage",{message:t.message,type:"error"})},onReadyStateUpdate:function(e){var t=this,r=e.name,n=r===this.TIM.EVENT.SDK_READY;this.$store.commit("toggleIsSDKReady",n),n&&(this.tim.getMyProfile().then((function(e){var r=e.data;t.$store.commit("updateCurrentUserProfile",r)})).catch((function(e){t.$store.commit("showMessage",{type:"error",message:e.message})})),this.$store.dispatch("getBlacklist"))},handleAt:function(e){for(var t=this,r=e.filter((function(e){return e.type===t.TIM.TYPES.MSG_TEXT&&e.payload.text.includes("@")})),n=0;n<r.length;n++){var s=r[n],o=s.payload.text.match(/@\w+/g);o&&(o.includes("@".concat(this.currentUserProfile.userID))&&(document.hidden&&this.notifyMe(s),E()({title:"有人在群".concat(s.conversationID.slice(5),"提到了你"),message:s.payload.text,duration:3e3}),this.$bus.$emit("new-messsage-at-me",{data:{conversationID:s.conversationID}})))}},notifyMe:function(e){var t=this;"Notification"in window&&("granted"===window.Notification.permission?this.handleNotify(e):"denied"!==window.Notification.permission&&window.Notification.requestPermission().then((function(r){"granted"===r&&t.handleNotify(e)})))},handleNotify:function(e){var t=this,r=new window.Notification("有人提到了你",{body:e.payload.text});r.onclick=function(){window.focus(),t.$store.dispatch("checkoutConversation",e.conversationID),r.close()}}}},Mo=Po,jo=(r("2482"),Object(_["a"])(Mo,j,I,!1,null,null,null)),Io=jo.exports,xo=(r("0fb7"),r("f529")),Eo=r.n(xo),Do=r("75fc"),ko=r("e23e"),To=r.n(ko),So=r("3438"),Lo=r.n(So),Ao=To.a.create({SDKAppID:1400287669});window.setLogLevel=Ao.setLogLevel,Ao.setLogLevel(4),Ao.registerPlugin({"cos-js-sdk":Lo.a});var Go=Ao,No={state:{currentConversation:{},currentMessageList:[],nextReqMessageID:"",isCompleted:!1,conversationList:[]},getters:{toAccount:function(e){if(!e.currentConversation||!e.currentConversation.conversationID)return"";switch(e.currentConversation.type){case"C2C":return e.currentConversation.conversationID.replace("C2C","");case"GROUP":return e.currentConversation.conversationID.replace("GROUP","");default:return e.currentConversation.conversationID}},currentConversationType:function(e){return e.currentConversation&&e.currentConversation.type?e.currentConversation.type:""},totalUnreadCount:function(e){return e.conversationList.reduce((function(t,r){return r.conversationID===e.currentConversation.conversationID?t:"GROUP"===r.type&&"AcceptNotNotify"===r.groupProfile.selfInfo.messageRemindType?t:t+r.unreadCount}),0)},imgUrlList:function(e){return e.currentMessageList.filter((function(e){return e.type===To.a.TYPES.MSG_IMAGE})).map((function(e){return e.payload.imageInfoArray[0].url}))}},mutations:{updateCurrentConversation:function(e,t){e.currentConversation=t,e.currentMessageList=[],e.nextReqMessageID="",e.isCompleted=!1},updateConversationList:function(e,t){e.conversationList=t},resetCurrentConversation:function(e){e.currentConversation={}},pushCurrentMessageList:function(e,t){if(e.currentConversation.conversationID)if(Array.isArray(t)){var r=t.filter((function(t){return t.conversationID===e.currentConversation.conversationID}));e.currentMessageList=[].concat(Object(Do["a"])(e.currentMessageList),Object(Do["a"])(r))}else t.conversationID===e.currentConversation.conversationID&&(e.currentMessageList=[].concat(Object(Do["a"])(e.currentMessageList),[t]))},reset:function(e){Object.assign(e,{currentConversation:{},currentMessageList:[],nextReqMessageID:"",isCompleted:!1,conversationList:[]})}},actions:{getMessageList:function(e,t){if(e.state.isCompleted)e.commit("showMessage",{message:"已经没有更多的历史消息了哦",type:"info"});else{var r=e.state,n=r.nextReqMessageID,s=r.currentMessageList;Go.getMessageList({conversationID:t,nextReqMessageID:n,count:15}).then((function(t){e.state.nextReqMessageID=t.data.nextReqMessageID,e.state.isCompleted=t.data.isCompleted,e.state.currentMessageList=[].concat(Object(Do["a"])(t.data.messageList),Object(Do["a"])(s))}))}},checkoutConversation:function(e,t){if(e.commit("resetCurrentMemberList"),e.state.currentConversation.conversationID){var r=e.state.currentConversation.conversationID;Go.setMessageRead({conversationID:r})}return Go.setMessageRead({conversationID:t}),Go.getConversationProfile(t).then((function(r){var n=r.data;return e.commit("updateCurrentConversation",n.conversation),e.dispatch("getMessageList",t),n.conversation.type===To.a.TYPES.CONV_GROUP?e.dispatch("getGroupMemberList",n.conversation.groupProfile.groupID):Promise.resolve()}))}}},Ro=No,$o={state:{groupList:[],currentMemberList:[],createGroupModelVisible:!1},getters:{hasGroupList:function(e){return e.groupList.length>0}},mutations:{updateGroupList:function(e,t){e.groupList=t},updateCreateGroupModelVisible:function(e,t){e.createGroupModelVisible=t},updateCurrentMemberList:function(e,t){e.currentMemberList=[].concat(Object(Do["a"])(e.currentMemberList),Object(Do["a"])(t))},deleteGroupMemeber:function(e,t){e.currentMemberList=e.currentMemberList.filter((function(e){return e.userID!==t}))},resetCurrentMemberList:function(e){e.currentMemberList=[]},reset:function(e){Object.assign(e,{groupList:[],currentMemberList:[],createGroupModelVisible:!1})}},actions:{updateGroupList:function(e,t){e.commit("updateGroupList",t)},getGroupMemberList:function(e,t){return Go.getGroupMemberList({groupID:t,offset:e.state.currentMemberList.length,count:30}).then((function(t){return e.commit("updateCurrentMemberList",t.data.memberList),t}))}}},Uo=$o,Bo={state:{currentUserProfile:{},isLogin:!1,isSDKReady:!1},mutations:{updateCurrentUserProfile:function(e,t){e.currentUserProfile=t},toggleIsLogin:function(e,t){e.isLogin="undefined"===typeof t?!e.isLogin:t},toggleIsSDKReady:function(e,t){e.isSDKReady="undefined"===typeof t?!e.isSDKReady:t},reset:function(e){Object.assign(e,{currentUserProfile:{},isLogin:!1,isSDKReady:!1})}},actions:{logout:function(e){e.rootState.conversation.currentConversation.conversationID&&Go.setMessageRead({conversationID:e.rootState.conversation.currentConversation.conversationID}),Go.logout().then((function(){e.commit("toggleIsLogin"),e.commit("stopComputeCurrent"),e.commit("reset"),window.location.href="/index/user/logout"}))}}},Vo=Bo,Fo={state:{friendList:[],createGroupModelVisible:!1},mutations:{upadteFriendList:function(e,t){e.friendList=t},reset:function(e){Object.assign(e,{friendList:[],createGroupModelVisible:!1})}}},Yo=Fo,qo={state:{blacklist:[]},mutations:{updateBlacklist:function(e,t){e.blacklist=t},removeFromBlacklist:function(e,t){e.blacklist=e.blacklist.filter((function(e){return e.userID!==t}))},reset:function(e){Object.assign(e,{blacklist:[]})}},actions:{getBlacklist:function(e){Go.getBlacklist().then((function(e){var t=e.data;return Go.getUserProfile({userIDList:t})})).then((function(t){var r=t.data;e.commit("updateBlacklist",r)}))}}},zo=qo,Ho=new Vuex.Store({state:{current:Date.now(),intervalID:0,message:void 0,teachers:[],futures:[],staff:[],users:{},webuser:{}},mutations:{setIndexData:function(e,t){var r=t.user,n=t.teachers,s=void 0===n?[]:n,o=t.staff,i=void 0===o?[]:o,a=t.futures,c=void 0===a?[]:a;try{e.teachers.push.apply(e.teachers,s),e.staff.push.apply(e.staff,i),e.futures.push.apply(e.futures,c);var u=e.users;u[r.uid]=r;for(var l=0;l<s.length;l++){var p=s[l];u[p.uid]=p}for(var m=0;m<i.length;m++){var f=i[m];u[f.uid]=f}s.forEach((function(e){return u[e.uid]=e})),i.forEach((function(e){return u[e.uid]=e})),Object.assign(e.webuser,r)}catch(d){}},startComputeCurrent:function(e){e.intervalID=setInterval((function(){e.current=Date.now()}),1e3)},stopComputeCurrent:function(e){clearInterval(e.intervalID),e.intervalID=0},showMessage:function(e,t){e.message&&e.message.close(),e.message=Eo()({message:t.message,type:t.type||"success",duration:t.duration||2e3,offset:40})}},modules:{conversation:Ro,group:Uo,friend:Yo,blacklist:zo,user:Vo}});r("ed2c"),r("8e84");window.TIM=To.a,window.store=Ho,Vue.prototype.$bus=new Vue,Vue.prototype.tim=Go,Vue.prototype.TIM=To.a,Vue.prototype.$store=Ho,Vue.prototype.$confirm=g.a.confirm,Vue.use(d.a),Vue.use(m.a),Vue.use(l.a),Vue.use(c.a),Vue.use(i.a),Vue.use(s.a),Vue.component("avatar",M),new Vue({render:function(e){return e(Io)}}).$mount("#app")},"56e0":function(e,t,r){"use strict";var n=r("d180"),s=r.n(n);s.a},5880:function(e,t){e.exports=Vuex},"59a5":function(e,t,r){"use strict";var n=r("dc86"),s=r.n(n);s.a},"5bf4":function(e,t,r){},"5d18":function(e,t,r){},"5f1e":function(e,t,r){"use strict";var n=r("83b6"),s=r.n(n);s.a},"611b":function(e,t,r){},"683f":function(e,t,r){"use strict";var n=r("611b"),s=r.n(n);s.a},"6dc1":function(e,t,r){},"6ef5":function(e,t,r){"use strict";var n=r("a305"),s=r.n(n);s.a},"722d":function(e,t,r){"use strict";var n=r("5bf4"),s=r.n(n);s.a},"78c2":function(e,t,r){},"7a9c":function(e,t,r){},"7f43":function(e,t,r){},"7f93":function(e,t,r){},"7fcd":function(e,t,r){},"802e":function(e,t,r){"use strict";var n=r("dc48"),s=r.n(n);s.a},"83b6":function(e,t,r){},"8bbf":function(e,t){e.exports=Vue},"8e84":function(e,t,r){},9181:function(e,t,r){"use strict";var n=r("4468"),s=r.n(n);s.a},"96c2":function(e,t,r){},"96ca":function(e,t,r){},9797:function(e,t,r){},9908:function(e,t,r){},"9b35":function(e,t,r){"use strict";var n=r("42c7"),s=r.n(n);s.a},"9c6a":function(e,t,r){"use strict";var n=r("7f93"),s=r.n(n);s.a},a027:function(e,t,r){},a1d8:function(e,t,r){e.exports=r.p+"img/logo.eb2976ec.png"},a305:function(e,t,r){},a3f4:function(e,t,r){},a415:function(e,t,r){"use strict";var n=r("4476"),s=r.n(n);s.a},ab0f:function(e,t,r){"use strict";var n=r("eb09"),s=r.n(n);s.a},af1d:function(e,t,r){"use strict";var n=r("bdd8"),s=r.n(n);s.a},b1c5:function(e,t,r){"use strict";var n=r("96ca"),s=r.n(n);s.a},b542:function(e,t,r){"use strict";var n=r("78c2"),s=r.n(n);s.a},bdd8:function(e,t,r){},c28c:function(e,t,r){"use strict";var n=r("3e1f"),s=r.n(n);s.a},ca9c:function(e,t,r){"use strict";var n=r("5d18"),s=r.n(n);s.a},d180:function(e,t,r){},d57c:function(e,t,r){"use strict";var n=r("96c2"),s=r.n(n);s.a},dc48:function(e,t,r){},dc86:function(e,t,r){},deab:function(e,t,r){"use strict";var n=r("6dc1"),s=r.n(n);s.a},e677:function(e,t,r){"use strict";var n=r("4619"),s=r.n(n);s.a},eb09:function(e,t,r){},ed2c:function(e,t,r){},efb1:function(e,t,r){},f057:function(e,t,r){"use strict";var n=r("0910"),s=r.n(n);s.a},f6e0:function(e,t,r){},f6e3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACpCAMAAAHy0MbyAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJYUExURQrBYAvBYRPDZhzGbCXIcSrJdSHHbxjFaQ7CYwzBYSnJdEzSi3bcpqLnw87z3+X47uj58Ov68uz68+n58ef579/36rzu05Djt2TYmz7OghnFai/KeIHfrcPw2OP47fz+/f////P8+Nb15K7ry1vVlBrFaw7CYlDTjqrqyPP899j15YrhsxDCZFfUksDv1vr+/C7KdyzKdq3qynLbo2HXmf7//rTszhTDZo/jtk7SjCjJc7nt0fX9+THLes3y3/3//oXgsA3CYjTMe5HjuA/CY8/z4IDfrRbEaLft0GbYnO779Pb9+cLv1x3GbNL04ub575zmv5flvEDPgzDLeaXoxIzitPD79TXMfB7GbeL47F7WlhLDZavqyfj9+03SjN326YvitEbQh3jdqO/79CLHcLHrzE/TjSPHcOT47vH79rHrzUvSivf9+vn++8zy3lXUkdf15SDHblnVk+D36ybIclrVlGfZnHjdpznNf1HTjhfEadv26I3itUfRiMfx26Pow0HPhJPkuZjlvMHv1zjNfkTQhWnZnhvFa8ry3TLLepXkurbt0Gvan4LfrknRiV/Wl9X05HHbo7/v1Z3mv8jx24jhskjRiTrNf8nx3Mvy3WLXmUfQh0XQhu3681LTj9n15ljVk2XYm6/ry+H37Or68bXsz2PYmjfMfW3aoLvu0zbMfTPLe77u1S7KeErRirDrzNr253fcpkPPhSvJdafpxr3u1N736n/frPL89o7itW/boWDXl3ndqJvmvvv+/Xveqsbx2tz26fT8+BHDZD3OgYTgr4fhsQAAAKRC35oAAADIdFJOU/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8A9ppxxwAAAAlwSFlzAAAXEQAAFxEByibzPwAABVpJREFUaEPt2zuP2koUB3BaN1dCLikwols5fVb5Cim3QaxEtNomDdJKaHWbbaBASPcTUKVBShv6NNH6e2Uefxs/5u0H7NX5NXiOzwwjY+yxPR4N422MhYqEw/KFiDbiZ3UY0V7D1ThizDMiAmIcIkIURaycxlGEQCFLRvUvlDJ8/j+MP2OhTGymxoqxCDc2ioz6/mgo5hB1C39BtBZGkEFAQIiLERKiKN2xtc0ffpSkD1MsVhzxSZxgoydLlA2QKfyLmA7S4Buiaitk5RBWQ04BYTXkFBBWQ04BYTXkFA6IqyCl5AvWNGB9DVbWYW3NGWvVZGOZsb8X8i+MAiHe5rOFeYfMbcSuliQzlA3WSGUQ0fqGPAExHWRJvxFUwzk2h6gacnKIqiEnt0VYCTm5FcJKyMlVzrB1yMl9tFzTBn5ASgFxFWRc6I+YSCjDmoZGDzisq8PaKuWQR52qaTi/BKjB2jo28mZjb7k2TkRRLGv9lCcgTUdrkiQbpbZTVk5003VYH2X3lo4SQkiAN3EokhYbBNuqDFWkN6xqoTRWKmt5d2SJZhSQESQfAyohJwRa0ECSvzka0LhHmrcZGtBYI80b6usYR1kG7ARuRO1KH63d0D8GausFdfiAykbI9fAdNS0+Id2RU2cl1HCivHrQ8bgPihpuvqOSi/RxFRd4XSwyU1bEIndKUcVbym8fYplhBeNlswfWVIJuTXh35WIH7lhjvEHhAcEuRO9/ZKOrPSKEEEIIIVey+e+f8Wy8e3V4yuxuWb4AV02QCFO/rH9CvB3FLRPlbB5P6lsmWBnuBQ3VYXUwNNPg8NTPhA+o1Vr9eKb7UUgJUnt8WDFHTgDDXTkGSQHM97ncHt6ooAGN4NtctstZZHnbo74O0rxpHsgVkObtHvV1Qq+4be2G3hCndiVqV6J2pb7afUJ9HbcpYk316Xx15smAeqiuhzxPW9TWq8xQdmW9u+53J7VQ3Dc0CJgCa98KHJLd2c5tOaQ7QzUr46yoJpeNK3ndY85QyYXPcApV3KCOA9cfTZqglp1fu+7/utT9Z9NNoFJLj2s8nuBYZSxx1dKd919OTKxixLOiNC+OnnkJBdtUKzN+ALo8gub/byy2xVq6bMRKoR3WxekjllfsJw1+fl7H+pjEfHd65ztKV90did/q8hynw+lmomEIfi6mdEKr284nx02y7GlPU+4IIYQQQgghhBBisVxuNptOp4j0YpOt60/wF/MfN9nvHzt0UGH2OfTJUT9eTdMipPmt9Hhj2K4Vr6hwTYcFOuOiu3lUYZauWzZ31S3s90hD2F3vQKF4xdBudq3/3G90wFfoc+t2grYtN75Gf1/x5QEWaGJAL7YpBSah0w3C2SZWGI0HPzzoJ0+66GZ2rDuPV+tUWkyvDGKbvGOx7vbxn9UnfG+g1cDnirbdfUE7A6Hu9om62yfqbp+ou336YN1tMTjn4oFPwm5TR/U6m+flJOCKvSr8vZQA5ZlggQa8/jn7TMTU8ZpZ20ary7SLfMpiv9J2V2klsfuE3WBHfFcnMjTal32buwsKcfgbcQ463bRSfxeZ6Rpf0a2A9xtcTLo4fKn0soH3fAp6P/o4xfWw3+amPfzhetpzuR2+olv3fMp89+56HJ1F+4kCdpQTihVnuc/HB5TLDpOB75VJE9GjZKX6cow1Bx0xWkR4A+AB5ZIU58Gejq5hnnGUaxxCMdacnlC+EZP8qHwqvwyB/ZZF0xt7RSJdF4eN6Wl7PP7asoHmFNv2J5JuyVk3Wnu8yt/fKkq32Jwlq/tbflMmet/e/ZEdncZfj0Gvvw4s35ztXpkjhBBCCCGkrdHoLzv9X1u4OdoGAAAAAElFTkSuQmCC"},fee6:function(e,t,r){}});